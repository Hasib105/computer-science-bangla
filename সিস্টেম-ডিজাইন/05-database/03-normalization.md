# Normalization à¦“ Denormalization

## ğŸ¯ Normalization à¦•à¦¿?

**Normalization** à¦¹à¦²à§‹ à¦¡à¦¾à¦Ÿà¦¾à¦¬à§‡à¦¸ à¦¡à¦¿à¦œà¦¾à¦‡à¦¨à§‡à¦° à¦à¦•à¦Ÿà¦¿ à¦ªà§à¦°à¦•à§à¦°à¦¿à¦¯à¦¼à¦¾ à¦¯à§‡à¦–à¦¾à¦¨à§‡ à¦¡à¦¾à¦Ÿà¦¾ redundancy à¦•à¦®à¦¾à¦¨à§‹ à¦¹à¦¯à¦¼ à¦à¦¬à¦‚ data integrity à¦¬à¦œà¦¾à¦¯à¦¼ à¦°à¦¾à¦–à¦¾ à¦¹à¦¯à¦¼à¥¤

## ğŸ“Š Normal Forms

### 1NF (First Normal Form)
```
à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ column-à¦ à¦à¦•à¦Ÿà¦¿ à¦®à¦¾à¦¤à§à¦° value à¦¥à¦¾à¦•à¦¬à§‡à¥¤

âŒ Before 1NF:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID â”‚  Name   â”‚       Phones           â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ à¦†à¦¹à¦®à§‡à¦¦   â”‚ 0171234567, 0181234567â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… After 1NF:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID â”‚  Name   â”‚   Phone    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ à¦†à¦¹à¦®à§‡à¦¦   â”‚ 0171234567 â”‚
â”‚ 1  â”‚ à¦†à¦¹à¦®à§‡à¦¦   â”‚ 0181234567 â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2NF (Second Normal Form)
```
1NF + Non-key columns à¦¸à¦®à§à¦ªà§‚à¦°à§à¦£ primary key-à¦à¦° à¦‰à¦ªà¦° à¦¨à¦¿à¦°à§à¦­à¦°à¦¶à§€à¦²à¥¤

âŒ Before 2NF:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Order_ID â”‚ Product_ID â”‚ Product   â”‚ Price  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1        â”‚ 101        â”‚ Phone     â”‚ 500    â”‚
â”‚ 1        â”‚ 102        â”‚ Laptop    â”‚ 1000   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Product_Name à¦¶à§à¦§à§ Product_ID-à¦à¦° à¦‰à¦ªà¦° à¦¨à¦¿à¦°à§à¦­à¦°à¦¶à§€à¦²à¥¤

âœ… After 2NF:
Orders:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Order_ID â”‚ Product_ID â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1        â”‚ 101        â”‚
â”‚ 1        â”‚ 102        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Products:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product_ID â”‚ Product   â”‚ Price  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 101        â”‚ Phone     â”‚ 500    â”‚
â”‚ 102        â”‚ Laptop    â”‚ 1000   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3NF (Third Normal Form)
```
2NF + No transitive dependencyà¥¤

âŒ Before 3NF:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID â”‚  Name   â”‚ City    â”‚ Country      â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ à¦†à¦¹à¦®à§‡à¦¦   â”‚ Dhaka   â”‚ Bangladesh   â”‚
â”‚ 2  â”‚ à¦•à¦°à¦¿à¦®    â”‚ Dhaka   â”‚ Bangladesh   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Country depends on City (not on ID).

âœ… After 3NF:
Users:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID â”‚  Name   â”‚ City    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ à¦†à¦¹à¦®à§‡à¦¦   â”‚ Dhaka   â”‚
â”‚ 2  â”‚ à¦•à¦°à¦¿à¦®    â”‚ Dhaka   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cities:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ City    â”‚ Country      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dhaka   â”‚ Bangladesh   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Denormalization

**Denormalization** à¦¹à¦²à§‹ à¦‡à¦šà§à¦›à¦¾à¦•à§ƒà¦¤à¦­à¦¾à¦¬à§‡ redundancy à¦¯à§‹à¦— à¦•à¦°à¦¾ read performance à¦¬à¦¾à¦¡à¦¼à¦¾à¦¨à§‹à¦° à¦œà¦¨à§à¦¯à¥¤

```
Normalized (Slow reads):
Users + Orders + Products â†’ 3 JOINs

Denormalized (Fast reads):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Order_ID â”‚ User_Name â”‚ Product_Name â”‚ Price     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1        â”‚ à¦†à¦¹à¦®à§‡à¦¦     â”‚ Phone        â”‚ 500       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
No JOINs needed!
```

### à¦•à¦–à¦¨ Denormalize à¦•à¦°à¦¬à§‡à¦¨?

```
âœ“ Read-heavy system
âœ“ Complex joins causing performance issues
âœ“ Reporting/Analytics queries
âœ“ Caching data

âœ— Write-heavy system
âœ— Frequently changing data
âœ— Storage is limited
âœ— Data consistency is critical
```

### Trade-offs

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Normalization    â”‚        Denormalization             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ No redundancy    â”‚ âœ— Data redundancy                  â”‚
â”‚ âœ“ Easy updates     â”‚ âœ— Complex updates                  â”‚
â”‚ âœ“ Less storage     â”‚ âœ— More storage                     â”‚
â”‚ âœ— Slow reads       â”‚ âœ“ Fast reads                       â”‚
â”‚ âœ— Many JOINs       â”‚ âœ“ Fewer JOINs                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ Best Practice

```
à§§. à¦¶à§à¦°à§à¦¤à§‡ Normalize à¦•à¦°à§à¦¨
à§¨. Performance issue à¦¹à¦²à§‡ selectively denormalize
à§©. Denormalized data sync à¦°à¦¾à¦–à¦¾à¦° mechanism à¦°à¦¾à¦–à§à¦¨
```

## ğŸ“š à¦ªà¦°à¦¬à¦°à§à¦¤à§€ à¦Ÿà¦ªà¦¿à¦•

[ACID à¦“ BASE â†’](./04-acid-base.md)
