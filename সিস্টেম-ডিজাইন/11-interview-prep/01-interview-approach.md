# à¦‡à¦¨à§à¦Ÿà¦¾à¦°à¦­à¦¿à¦‰ à¦…à§à¦¯à¦¾à¦ªà§à¦°à§‹à¦š

## ğŸ¯ à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦® à¦¡à¦¿à¦œà¦¾à¦‡à¦¨ à¦‡à¦¨à§à¦Ÿà¦¾à¦°à¦­à¦¿à¦‰ Framework

```
à¦®à§‹à¦Ÿ à¦¸à¦®à¦¯à¦¼: à§ªà§«-à§¬à§¦ à¦®à¦¿à¦¨à¦¿à¦Ÿ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Interview Timeline                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚  â”‚ Requirements  â”‚ (à§« à¦®à¦¿à¦¨à¦¿à¦Ÿ)                               â”‚
â”‚  â”‚ Clarification â”‚                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚         â”‚                                                  â”‚
â”‚         â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚  â”‚   Capacity    â”‚ (à§« à¦®à¦¿à¦¨à¦¿à¦Ÿ)                               â”‚
â”‚  â”‚  Estimation   â”‚                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚         â”‚                                                  â”‚
â”‚         â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚  â”‚  High-Level   â”‚ (à§§à§¦ à¦®à¦¿à¦¨à¦¿à¦Ÿ)                              â”‚
â”‚  â”‚    Design     â”‚                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚         â”‚                                                  â”‚
â”‚         â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚  â”‚   Deep Dive   â”‚ (à§¨à§¦ à¦®à¦¿à¦¨à¦¿à¦Ÿ)                              â”‚
â”‚  â”‚  Components   â”‚                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚         â”‚                                                  â”‚
â”‚         â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚  â”‚ Bottlenecks & â”‚ (à§§à§¦ à¦®à¦¿à¦¨à¦¿à¦Ÿ)                              â”‚
â”‚  â”‚   Scaling     â”‚                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## à§§. Requirements Clarification (à§« à¦®à¦¿à¦¨à¦¿à¦Ÿ)

### Functional Requirements à¦œà¦¿à¦œà§à¦à§‡à¦¸ à¦•à¦°à§à¦¨
```
"Design Twitter" à¦ªà§à¦°à¦¶à§à¦¨à§‡à¦° à¦œà¦¨à§à¦¯:

âœ“ Users à¦•à¦¿ tweet à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡?
âœ“ Follow/unfollow à¦†à¦›à§‡?
âœ“ Timeline à¦¦à§‡à¦–à¦¾ à¦¯à¦¾à¦¬à§‡?
âœ“ Like, retweet, reply à¦†à¦›à§‡?
âœ“ Search functionality à¦†à¦›à§‡?
âœ“ Media support (images, videos)?
âœ“ Notifications?
```

### Non-Functional Requirements
```
âœ“ à¦•à¦¤à¦œà¦¨ user?
âœ“ Read-heavy à¦¨à¦¾ write-heavy?
âœ“ Latency requirement à¦•à¦¤?
âœ“ Availability vs Consistency?
âœ“ Data retention à¦•à¦¤à¦¦à¦¿à¦¨?
```

### Scope à¦¨à¦¿à¦°à§à¦§à¦¾à¦°à¦£
```
à¦¸à¦®à¦¯à¦¼ à¦¸à§€à¦®à¦¿à¦¤, à¦¤à¦¾à¦‡ à¦¬à¦²à§à¦¨:

"Let's focus on core features:
 - Tweet creation
 - Timeline generation
 - Follow system
 
 We can discuss search and notifications 
 if time permits."
```

## à§¨. Capacity Estimation (à§« à¦®à¦¿à¦¨à¦¿à¦Ÿ)

### Template
```
Users:
- Total users: X
- Daily active users (DAU): Y
- Actions per user per day: Z

Traffic:
- Read requests/second = DAU Ã— reads/user / 86400
- Write requests/second = DAU Ã— writes/user / 86400
- Peak = Average Ã— 3

Storage:
- Data per item Ã— items per day Ã— retention days
- Add 20% buffer

Bandwidth:
- Request size Ã— requests/second
```

### à¦‰à¦¦à¦¾à¦¹à¦°à¦£: Twitter
```
Users:
- 500M total users
- 200M DAU
- 10 timeline views/day
- 2 tweets/day

Traffic:
- Read: 200M Ã— 10 / 86400 â‰ˆ 23,000 req/s
- Write: 200M Ã— 2 / 86400 â‰ˆ 4,600 req/s
- Peak: 23,000 Ã— 3 â‰ˆ 70,000 req/s

Storage:
- Tweet: 500 bytes
- 400M tweets/day Ã— 500B = 200 GB/day
- 5 years = 365 TB
```

## à§©. High-Level Design (à§§à§¦ à¦®à¦¿à¦¨à¦¿à¦Ÿ)

### à¦¡à¦¾à¦¯à¦¼à¦¾à¦—à§à¦°à¦¾à¦® à¦†à¦à¦•à§à¦¨
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚      â”‚  Client  â”‚                                       â”‚
â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚           â”‚                                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                                       â”‚
â”‚      â”‚   Load   â”‚                                       â”‚
â”‚      â”‚ Balancer â”‚                                       â”‚
â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚           â”‚                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚    â”‚             â”‚                                      â”‚
â”‚  â”Œâ”€â”´â”€â”€â”€â”     â”Œâ”€â”€â”€â”´â”€â”                                   â”‚
â”‚  â”‚ App â”‚     â”‚ App â”‚     â† Stateless servers           â”‚
â”‚  â””â”€â”¬â”€â”€â”€â”˜     â””â”€â”€â”€â”¬â”€â”˜                                   â”‚
â”‚    â”‚             â”‚                                      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚           â”‚                                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                                       â”‚
â”‚      â”‚  Cache   â”‚      â† Redis                         â”‚
â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚           â”‚                                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                                       â”‚
â”‚      â”‚ Database â”‚      â† Primary + Replicas            â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Components à¦¬à§à¦¯à¦¾à¦–à§à¦¯à¦¾ à¦•à¦°à§à¦¨
```
à§§. Load Balancer: Traffic distribution
à§¨. App Servers: Business logic
à§©. Cache: Reduce DB load
à§ª. Database: Persistent storage
à§«. Message Queue: Async processing
```

## à§ª. Deep Dive (à§¨à§¦ à¦®à¦¿à¦¨à¦¿à¦Ÿ)

### Core Component à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤
```
à¦‡à¦¨à§à¦Ÿà¦¾à¦°à¦­à¦¿à¦‰à¦¯à¦¼à¦¾à¦° à¦¯à§‡à¦Ÿà¦¾ à¦—à§à¦°à§à¦¤à§à¦¬à¦ªà§‚à¦°à§à¦£ à¦®à¦¨à§‡ à¦•à¦°à§‡à¦¨ à¦¸à§‡à¦Ÿà¦¾ Deep dive à¦•à¦°à§à¦¨à¥¤

Timeline Generation:
- Push vs Pull model
- Celebrity problem
- Hybrid approach

Database Schema:
- Table design
- Indexing strategy
- Sharding key

Caching:
- What to cache
- Cache invalidation
- TTL strategy
```

### API Design
```
REST endpoints:

POST /tweets
GET /tweets/{id}
GET /users/{id}/timeline
POST /users/{id}/follow
```

### Database Schema
```sql
-- Example tables
CREATE TABLE tweets (
    id BIGINT PRIMARY KEY,
    user_id BIGINT,
    content TEXT,
    created_at TIMESTAMP,
    INDEX (user_id, created_at)
);
```

## à§«. Bottlenecks & Scaling (à§§à§¦ à¦®à¦¿à¦¨à¦¿à¦Ÿ)

### Single Point of Failure à¦šà¦¿à¦¹à§à¦¨à¦¿à¦¤ à¦•à¦°à§à¦¨
```
"à¦à¦–à¦¨ à¦¦à§‡à¦–à¦¿ à¦•à§‹à¦¥à¦¾à¦¯à¦¼ à¦¸à¦®à¦¸à§à¦¯à¦¾ à¦¹à¦¤à§‡ à¦ªà¦¾à¦°à§‡..."

à§§. Database bottleneck
   â†’ Read replicas, Sharding

à§¨. Application server overload
   â†’ Horizontal scaling, Auto-scaling

à§©. Cache failure
   â†’ Redis cluster, Fallback to DB

à§ª. Load balancer failure
   â†’ Multiple LBs, DNS failover
```

### Scaling Solutions
```
Read-heavy:
- Add cache layers
- Read replicas
- CDN for static content

Write-heavy:
- Write to queue first
- Async processing
- Database sharding

Global users:
- Multi-region deployment
- Geographic load balancing
- Data replication
```

## ğŸ’¡ à¦—à§à¦°à§à¦¤à§à¦¬à¦ªà§‚à¦°à§à¦£ Tips

```
DO:
âœ“ à¦ªà§à¦°à¦¶à§à¦¨ à¦•à¦°à§à¦¨, à¦…à¦¨à§à¦®à¦¾à¦¨ à¦•à¦°à¦¬à§‡à¦¨ à¦¨à¦¾
âœ“ Trade-offs à¦¬à§à¦¯à¦¾à¦–à§à¦¯à¦¾ à¦•à¦°à§à¦¨
âœ“ Big picture à¦†à¦—à§‡, details à¦ªà¦°à§‡
âœ“ à¦‡à¦¨à§à¦Ÿà¦¾à¦°à¦­à¦¿à¦‰à¦¯à¦¼à¦¾à¦°à§‡à¦° feedback à¦¶à§à¦¨à§à¦¨
âœ“ Whiteboard/paper à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à§à¦¨

DON'T:
âœ— à¦¸à¦°à¦¾à¦¸à¦°à¦¿ coding à¦¶à§à¦°à§ à¦•à¦°à¦¬à§‡à¦¨ à¦¨à¦¾
âœ— Silent à¦¥à¦¾à¦•à¦¬à§‡à¦¨ à¦¨à¦¾
âœ— Over-engineer à¦•à¦°à¦¬à§‡à¦¨ à¦¨à¦¾
âœ— à¦à¦•à¦Ÿà¦¾ solution-à¦ à¦†à¦Ÿà¦•à§‡ à¦¥à¦¾à¦•à¦¬à§‡à¦¨ à¦¨à¦¾
âœ— Time management à¦­à§à¦²à¦¬à§‡à¦¨ à¦¨à¦¾
```

## ğŸ—£ï¸ Communication Tips

```
à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ decision à¦à¦° à¦œà¦¨à§à¦¯ à¦¬à¦²à§à¦¨:

"I'm choosing X because..."
"The trade-off here is..."
"If we had more time, we could..."
"This might become a bottleneck at scale..."
```

## ğŸ“š à¦ªà¦°à¦¬à¦°à§à¦¤à§€ à¦Ÿà¦ªà¦¿à¦•

[à¦¸à¦¾à¦§à¦¾à¦°à¦£ à¦ªà§à¦°à¦¶à§à¦¨ à¦“ à¦‰à¦¤à§à¦¤à¦° â†’](./02-common-questions.md)
