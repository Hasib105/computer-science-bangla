# рж▓рзЗржЯрзЗржирзНрж╕рж┐ ржУ ржерзНрж░рзБржкрзБржЯ (Latency & Throughput)

## ЁЯОп рж▓рзЗржЯрзЗржирзНрж╕рж┐ ржХрж┐?

**рж▓рзЗржЯрзЗржирзНрж╕рж┐** рж╣рж▓рзЛ ржПржХржЯрж┐ ржЕржкрж╛рж░рзЗрж╢ржи рж╕ржорзНржкржирзНржи рж╣рждрзЗ ржпрзЗ рж╕ржоржпрж╝ рж▓рж╛ржЧрзЗ - ржЕрж░рзНржерж╛рзО рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржирзЛ ржерзЗржХрзЗ рж░рзЗрж╕ржкржирзНрж╕ ржкрж╛ржУржпрж╝рж╛ ржкрж░рзНржпржирзНржд рж╕ржоржпрж╝ред

```
рж╕рж╣ржЬ ржнрж╛рж╖рж╛ржпрж╝:
ржЖржкржирж┐ тЖТ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ тЖТ рж╕рж╛рж░рзНржнрж╛рж░ тЖТ рж░рзЗрж╕ржкржирзНрж╕ тЖТ ржЖржкржирж┐
         тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА рж▓рзЗржЯрзЗржирзНрж╕рж┐ тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

## ЁЯУК рж▓рзЗржЯрзЗржирзНрж╕рж┐ рж╕ржВржЦрзНржпрж╛ (ржкрзНрж░рждрж┐ржЯрж┐ ржбрзЗржнрзЗрж▓ржкрж╛рж░рзЗрж░ ржЬрж╛ржирж╛ ржЙржЪрж┐ржд)

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ                    рж▓рзЗржЯрзЗржирзНрж╕рж┐ рж░рзЗржлрж╛рж░рзЗржирзНрж╕                       тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ L1 ржХрзНржпрж╛рж╢ рж░рзЗржлрж╛рж░рзЗржирзНрж╕                      рзж.рзл ns           тФВ
тФВ L2 ржХрзНржпрж╛рж╢ рж░рзЗржлрж╛рж░рзЗржирзНрж╕                      рзн ns             тФВ
тФВ ржорзЗржЗржи ржорзЗржорж░рж┐ рж░рзЗржлрж╛рж░рзЗржирзНрж╕                    рззрзжрзж ns           тФВ
тФВ SSD ржерзЗржХрзЗ рзз MB ржкржбрж╝рж╛                      рзз ms             тФВ
тФВ HDD ржерзЗржХрзЗ рзз MB ржкржбрж╝рж╛                      рзирзж ms            тФВ
тФВ ржПржХржЗ ржбрж╛ржЯрж╛рж╕рзЗржирзНржЯрж╛рж░рзЗ рж░рж╛ржЙржирзНржб ржЯрзНрж░рж┐ржк           рзж.рзл ms           тФВ
тФВ CA тЖТ Netherlands рж░рж╛ржЙржирзНржб ржЯрзНрж░рж┐ржк           рззрзлрзж ms           тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

рж╕ржоржпрж╝рзЗрж░ рж╕рзНржХрзЗрж▓:
1 ns (nanosecond)  = 0.000000001 рж╕рзЗржХрзЗржирзНржб
1 ┬╡s (microsecond) = 0.000001 рж╕рзЗржХрзЗржирзНржб  
1 ms (millisecond) = 0.001 рж╕рзЗржХрзЗржирзНржб
```

### ржнрж┐ржЬрзНржпрзБржпрж╝рж╛рж▓ рждрзБрж▓ржирж╛
```
ржпржжрж┐ L1 ржХрзНржпрж╛рж╢ = рзз рж╕рзЗржХрзЗржирзНржб рж╣рждрзЛ:

L1 ржХрзНржпрж╛рж╢          : рзз рж╕рзЗржХрзЗржирзНржб
L2 ржХрзНржпрж╛рж╢          : рззрзк рж╕рзЗржХрзЗржирзНржб
RAM              : рзй ржорж┐ржирж┐ржЯ рзирзж рж╕рзЗржХрзЗржирзНржб
SSD              : рзйрзй ржорж┐ржирж┐ржЯ
HDD Seek         : рззрзз ржШржирзНржЯрж╛
CAтЖТNL рж░рж╛ржЙржирзНржб ржЯрзНрж░рж┐ржк: рзй.рзл ржжрж┐ржи
```

## ЁЯУИ ржерзНрж░рзБржкрзБржЯ ржХрж┐?

**ржерзНрж░рзБржкрзБржЯ** рж╣рж▓рзЛ ржкрзНрж░рждрж┐ ржЗржЙржирж┐ржЯ рж╕ржоржпрж╝рзЗ рж╕рж┐рж╕рзНржЯрзЗржо ржХрждржЧрзБрж▓рзЛ ржЕржкрж╛рж░рзЗрж╢ржи рж╕ржорзНржкржирзНржи ржХрж░рждрзЗ ржкрж╛рж░рзЗред

```
ржЙржжрж╛рж╣рж░ржг:
- рззрзжрзжрзж рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ/рж╕рзЗржХрзЗржирзНржб
- рзлрзж MB/рж╕рзЗржХрзЗржирзНржб ржбрж╛ржЯрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░
- рззрзжрзж ржЯрзНрж░рж╛ржиржЬрзНржпрж╛ржХрж╢ржи/рж╕рзЗржХрзЗржирзНржб
```

## ЁЯФД рж▓рзЗржЯрзЗржирзНрж╕рж┐ vs ржерзНрж░рзБржкрзБржЯ

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ                    ржкрж╛ржирж┐рж░ ржкрж╛ржЗржк ржЕрзНржпрж╛ржирж╛рж▓ржЬрж┐                     тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ                                                             тФВ
тФВ   тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР              тФВ
тФВ   тФВ тХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтФВтЖРтФАтФА ржерзНрж░рзБржкрзБржЯ   тФВ
тФВ   тФВ (ржкрж╛ржЗржкрзЗрж░ ржоржзрзНржпрзЗ ржХржд ржкрж╛ржирж┐ ржпрж╛ржЪрзНржЫрзЗ)           тФВ    (ржкрзНрж░рж╢рж╕рзНржд) тФВ
тФВ   тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ              тФВ
тФВ   тЖС                                         тЖУ              тФВ
тФВ   рж╢рзБрж░рзБ                                    рж╢рзЗрж╖              тФВ
тФВ   тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА рж▓рзЗржЯрзЗржирзНрж╕рж┐ тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ              тФВ
тФВ   (ржкрж╛ржирж┐ ржХржд ржжрзНрж░рзБржд ржкрзМржБржЫрж╛ржЪрзНржЫрзЗ)                                тФВ
тФВ                                                             тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

рж▓рзЗржЯрзЗржирзНрж╕рж┐ = ржкрж╛ржЗржкрзЗрж░ ржжрзИрж░рзНржШрзНржп (рж╕ржоржпрж╝)
ржерзНрж░рзБржкрзБржЯ = ржкрж╛ржЗржкрзЗрж░ ржкрзНрж░рж╢рж╕рзНрждрждрж╛ (ржнрж▓рж┐ржЙржо)
```

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг

```
рж╣рж╛ржЗржУржпрж╝рзЗ ржЕрзНржпрж╛ржирж╛рж▓ржЬрж┐:

рж╕рзНржкрж┐ржб рж▓рж┐ржорж┐ржЯ = рж▓рзЗржЯрзЗржирзНрж╕рж┐
(ржкрзНрж░рждрж┐ржЯрж┐ ржЧрж╛ржбрж╝рж┐ ржХржд ржжрзНрж░рзБржд ржпрж╛ржЪрзНржЫрзЗ)

рж▓рзЗржи рж╕ржВржЦрзНржпрж╛ = ржерзНрж░рзБржкрзБржЯ
(ржПржХрж╕рж╛ржерзЗ ржХрждржЧрзБрж▓рзЛ ржЧрж╛ржбрж╝рж┐ ржпрзЗрждрзЗ ржкрж╛рж░ржЫрзЗ)

рзи рж▓рзЗржи, рззрзирзж ржХрж┐.ржорж┐./ржШржирзНржЯрж╛:
- ржкрзНрж░рждрж┐ржЯрж┐ ржЧрж╛ржбрж╝рж┐ ржжрзНрж░рзБржд ржпрж╛ржмрзЗ (рж▓рзЛ рж▓рзЗржЯрзЗржирзНрж╕рж┐)
- ржХрж┐ржирзНрждрзБ ржХржо ржЧрж╛ржбрж╝рж┐ ржпрзЗрждрзЗ ржкрж╛рж░ржмрзЗ (рж▓рзЛ ржерзНрж░рзБржкрзБржЯ)

рзо рж▓рзЗржи, рзмрзж ржХрж┐.ржорж┐./ржШржирзНржЯрж╛:
- ржЧрж╛ржбрж╝рж┐ ржзрзАрж░рзЗ ржпрж╛ржмрзЗ (рж╣рж╛ржЗ рж▓рзЗржЯрзЗржирзНрж╕рж┐)
- ржХрж┐ржирзНрждрзБ ржмрзЗрж╢рж┐ ржЧрж╛ржбрж╝рж┐ ржпрзЗрждрзЗ ржкрж╛рж░ржмрзЗ (рж╣рж╛ржЗ ржерзНрж░рзБржкрзБржЯ)
```

## ЁЯОп рж▓рзЗржЯрзЗржирзНрж╕рж┐рж░ ржкрзНрж░ржХрж╛рж░ржнрзЗржж

### рзз. ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж▓рзЗржЯрзЗржирзНрж╕рж┐
```
ржкрзНрж░ржнрж╛ржмржХ:
тФЬтФАтФА ржнрзМржЧрзЛрж▓рж┐ржХ ржжрзВрж░рждрзНржм
тФЬтФАтФА ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржХржиржЬрзЗрж╢ржи
тФЬтФАтФА рж░рж╛ржЙржЯрж╛рж░ рж╣ржк рж╕ржВржЦрзНржпрж╛
тФФтФАтФА ржкрзНрж░ржЯрзЛржХрж▓ ржУржнрж╛рж░рж╣рзЗржб

ржХржорж╛ржирзЛрж░ ржЙржкрж╛ржпрж╝:
тФЬтФАтФА CDN ржмрзНржпржмрж╣рж╛рж░
тФЬтФАтФА рж╕рж╛рж░рзНржнрж╛рж░ ржХрж╛ржЫрзЗ рж░рж╛ржЦрж╛
тФФтФАтФА ржХрж╛ржирзЗржХрж╢ржи ржкрзБрж▓рж┐ржВ
```

### рзи. ржбрж┐рж╕рзНржХ I/O рж▓рзЗржЯрзЗржирзНрж╕рж┐
```
HDD vs SSD:

HDD:
тФЬтФАтФА рж╕рж┐ржХ ржЯрж╛ржЗржо: рзл-рззрзл ms
тФЬтФАтФА рж░рзЛржЯрзЗрж╢ржирж╛рж▓ рж▓рзЗржЯрзЗржирзНрж╕рж┐: рзи-рзм ms
тФФтФАтФА ржорзЛржЯ: ~рззрзж-рзирзж ms

SSD:
тФЬтФАтФА ржХрзЛржирзЛ ржорзБржнрж┐ржВ ржкрж╛рж░рзНржЯ ржирзЗржЗ
тФЬтФАтФА рж░рж┐ржб рж▓рзЗржЯрзЗржирзНрж╕рж┐: рзж.рзз ms
тФФтФАтФА рж░рж╛ржЗржЯ рж▓рзЗржЯрзЗржирзНрж╕рж┐: рзж.рзз-рзж.рзи ms

SSD рззрзжрзжx ржжрзНрж░рзБржд!
```

### рзй. ржорзЗржорж░рж┐ рж▓рзЗржЯрзЗржирзНрж╕рж┐
```
ржорзЗржорж░рж┐ рж╣рж╛ржпрж╝рж╛рж░рж╛рж░рзНржХрж┐:

CPU рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ тЖТ рзз рж╕рж╛ржЗржХрзЗрж▓
L1 ржХрзНржпрж╛рж╢ тЖТ рзй-рзк рж╕рж╛ржЗржХрзЗрж▓
L2 ржХрзНржпрж╛рж╢ тЖТ рззрзж-рзирзж рж╕рж╛ржЗржХрзЗрж▓
L3 ржХрзНржпрж╛рж╢ тЖТ рзкрзж-рзкрзл рж╕рж╛ржЗржХрзЗрж▓
RAM тЖТ рззрзжрзж-рзйрзжрзж рж╕рж╛ржЗржХрзЗрж▓
```

### рзк. ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж▓рзЗржЯрзЗржирзНрж╕рж┐
```
ржЙрзОрж╕:
тФЬтФАтФА ржбрж╛ржЯрж╛ржмрзЗрж╕ ржХрзБржпрж╝рзЗрж░рж┐
тФЬтФАтФА API ржХрж▓
тФЬтФАтФА рж╕рж┐рж░рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬрзЗрж╢ржи/ржбрж┐рж╕рж┐рж░рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬрзЗрж╢ржи
тФЬтФАтФА ржЧрж╛рж░ржмрзЗржЬ ржХрж╛рж▓рзЗржХрж╢ржи
тФФтФАтФА рж▓ржХ ржХржиржЯрзЗржирж╢ржи
```

## ЁЯУП рж▓рзЗржЯрзЗржирзНрж╕рж┐ ржкрж░рж┐ржорж╛ржк

### ржкрж╛рж░рзНрж╕рзЗржирзНржЯрж╛ржЗрж▓ (Percentile)
```
ржзрж░рзБржи, рззрзжрзжржЯрж┐ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯрзЗрж░ рж░рзЗрж╕ржкржирзНрж╕ ржЯрж╛ржЗржо:

p50 (ржорж┐ржбрж┐ржпрж╝рж╛ржи) = рззрзжрзж ms
тЖТ рзлрзж% рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рззрзжрзж ms ржПрж░ ржоржзрзНржпрзЗ

p90 = рзирзжрзж ms
тЖТ рзпрзж% рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рзирзжрзж ms ржПрж░ ржоржзрзНржпрзЗ

p99 = рззрзжрзжрзж ms
тЖТ рзпрзп% рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рззрзжрзжрзж ms ржПрж░ ржоржзрзНржпрзЗ

p99.9 = рзирзжрзжрзж ms
тЖТ рзпрзп.рзп% рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рзирзжрзжрзж ms ржПрж░ ржоржзрзНржпрзЗ
```

### ржХрзЗржи p99/p99.9 ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг?
```
ржжрзИржирж┐ржХ рзз ржорж┐рж▓рж┐ржпрж╝ржи рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╣рж▓рзЗ:

p99 = рзи рж╕рзЗржХрзЗржирзНржб ржорж╛ржирзЗ:
рззрзж,рзжрзжрзж рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рзи+ рж╕рзЗржХрзЗржирзНржб ржирзЗржмрзЗ

ржПржЗ рззрзж,рзжрзжрзж ржЗржЙржЬрж╛рж░ ржЦрж╛рж░рж╛ржк ржЕржнрж┐ржЬрзНржЮрждрж╛ ржкрж╛ржмрзЗ!
```

## ЁЯЪА рж▓рзЗржЯрзЗржирзНрж╕рж┐ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи

### рзз. ржХрзНржпрж╛рж╢рж┐ржВ
```
ржХрзНржпрж╛рж╢ ржЫрж╛ржбрж╝рж╛:
Client тЖТ Server тЖТ Database тЖТ Server тЖТ Client
                    тЖС
            рззрзжрзж ms (ржбрж╛ржЯрж╛ржмрзЗрж╕)

ржХрзНржпрж╛рж╢ рж╕рж╣:
Client тЖТ Server тЖТ Cache тЖТ Server тЖТ Client
                    тЖС
             рзз ms (ржХрзНржпрж╛рж╢)

рзпрзп% рж╕ржоржпрж╝ ржмрж╛ржБржЪрзЗ!
```

### рзи. CDN ржмрзНржпржмрж╣рж╛рж░
```
CDN ржЫрж╛ржбрж╝рж╛:
ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ тЖТ USA рж╕рж╛рж░рзНржнрж╛рж░
рж░рж╛ржЙржирзНржб ржЯрзНрж░рж┐ржк: рзйрзжрзж+ ms

CDN рж╕рж╣:
ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ тЖТ рж╕рж┐ржЩрзНржЧрж╛ржкрзБрж░ CDN
рж░рж╛ржЙржирзНржб ржЯрзНрж░рж┐ржк: рзлрзж ms
```

### рзй. ржХрж╛ржирзЗржХрж╢ржи ржкрзБрж▓рж┐ржВ
```
ржкрзБрж▓рж┐ржВ ржЫрж╛ржбрж╝рж╛:
Request 1: ржХрж╛ржирзЗржХрж╢ржи рждрзИрж░рж┐ (рзлрзж ms) + ржХрзБржпрж╝рзЗрж░рж┐ (рззрзж ms)
Request 2: ржХрж╛ржирзЗржХрж╢ржи рждрзИрж░рж┐ (рзлрзж ms) + ржХрзБржпрж╝рзЗрж░рж┐ (рззрзж ms)
ржорзЛржЯ: рззрзирзж ms

ржкрзБрж▓рж┐ржВ рж╕рж╣:
Request 1: ржкрзБрж▓ ржерзЗржХрзЗ ржХрж╛ржирзЗржХрж╢ржи (рзз ms) + ржХрзБржпрж╝рзЗрж░рж┐ (рззрзж ms)
Request 2: ржкрзБрж▓ ржерзЗржХрзЗ ржХрж╛ржирзЗржХрж╢ржи (рзз ms) + ржХрзБржпрж╝рзЗрж░рж┐ (рззрзж ms)
ржорзЛржЯ: рзирзи ms
```

### рзк. ржЕрзНржпрж╛рж╕рж┐ржиржХрзНрж░рзЛржирж╛рж╕ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ
```
рж╕рж┐ржиржХрзНрж░рзЛржирж╛рж╕:
Email ржкрж╛ржарж╛ржирзЛ тЖТ рзлрзжрзж ms ржЕржкрзЗржХрзНрж╖рж╛ тЖТ рж░рзЗрж╕ржкржирзНрж╕

ржЕрзНржпрж╛рж╕рж┐ржиржХрзНрж░рзЛржирж╛рж╕:
Queue-рждрзЗ Email тЖТ рзз ms тЖТ рж░рзЗрж╕ржкржирзНрж╕
                 тЖУ
          Background Worker
          (ржкрж░рзЗ Email ржкрж╛ржарж╛ржпрж╝)
```

## ЁЯУК ржерзНрж░рзБржкрзБржЯ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи

### рзз. рж╣рж░рж╛ржЗржЬржирзНржЯрж╛рж▓ рж╕рзНржХрзЗрж▓рж┐ржВ
```
рзз рж╕рж╛рж░рзНржнрж╛рж░ = рззрзжрзжрзж req/s
рзл рж╕рж╛рж░рзНржнрж╛рж░ = рзлрзжрзжрзж req/s
```

### рзи. рж▓рзЛржб ржмрзНржпрж╛рж▓рж╛ржирзНрж╕рж┐ржВ
```
           тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
           тФВ рж▓рзЛржб ржмрзНржпрж╛рж▓рж╛ржирзНрж╕рж╛рж░тФВ
           тФФтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФШ
      тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
      тЖУ          тЖУ          тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВServer 1 тФВ тФВServer 2 тФВ тФВServer 3 тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### рзй. ржмрзНржпрж╛ржЪ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ
```
ржПржХржЯрж┐ ржПржХржЯрж┐:
INSERT INTO users VALUES (1, 'A')
INSERT INTO users VALUES (2, 'B')
INSERT INTO users VALUES (3, 'C')
рж╕ржоржпрж╝: рзйрзж ms (рззрзж ms ├Ч рзй)

ржмрзНржпрж╛ржЪ:
INSERT INTO users VALUES 
(1, 'A'), (2, 'B'), (3, 'C')
рж╕ржоржпрж╝: рззрзи ms
```

### рзк. ржХржорзНржкрзНрж░рзЗрж╢ржи
```
ржХржорзНржкрзНрж░рзЗрж╢ржи ржЫрж╛ржбрж╝рж╛:
рззрзжрзж KB ржбрж╛ржЯрж╛ тЖТ рззрзжрзж ms ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░

gzip ржХржорзНржкрзНрж░рзЗрж╢ржи:
рззрзжрзж KB тЖТ рзирзж KB тЖТ рзирзж ms ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░
(рзлx ржжрзНрж░рзБржд)
```

## ЁЯУИ ржорзЗржЯрзНрж░рж┐ржХрзНрж╕ ржПржмржВ ржоржирж┐ржЯрж░рж┐ржВ

```
ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржорзЗржЯрзНрж░рж┐ржХрзНрж╕:

RPS (Requests Per Second)
тФЬтФАтФА рж╕рж┐рж╕рзНржЯрзЗржо ржХржд рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░ржЫрзЗ

Response Time
тФЬтФАтФА p50, p90, p99, p99.9

Error Rate
тФЬтФАтФА ржлрзЗржЗрж▓ рж╣ржУржпрж╝рж╛ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯрзЗрж░ рж╢рждрж╛ржВрж╢

Saturation
тФЬтФАтФА рж╕рж┐рж╕рзНржЯрзЗржо ржХрждржЯрж╛ ржмрзНржпрж╕рзНржд

Availability
тФЬтФАтФА рж╕рж┐рж╕рзНржЯрзЗржо ржХрждржЯрж╛ рж╕ржоржпрж╝ ржЪрж╛рж▓рзБ
```

## ЁЯТб ржЯрж┐ржкрж╕

```
рзз. "ржкрзНрж░рж┐ржорзНржпрж╛ржЪрж┐ржУрж░ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи рж╣рж▓рзЛ рж╕ржм ржоржирзНржжрзЗрж░ ржорзВрж▓"
   - ржкрзНрж░ржержорзЗ ржХрж╛ржЬ ржХрж░рж╛ржи, рждрж╛рж░ржкрж░ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬ ржХрж░рзБржи

рзи. ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржХрж░рзБржи, ржЕржирзБржорж╛ржи ржиржпрж╝
   - ржмржЯрж▓ржирзЗржХ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзБржи

рзй. рзорзж/рзирзж ржирж┐ржпрж╝ржо
   - рзирзж% ржХрзЛржб рзорзж% рж╕ржоржпрж╝ ржирзЗржпрж╝

рзк. ржкрж░рж┐ржорж╛ржк ржХрж░рзБржи
   - "ржпрж╛ ржкрж░рж┐ржорж╛ржк ржХрж░рж╛ ржпрж╛ржпрж╝ ржирж╛, рждрж╛ ржЙржирзНржиржд ржХрж░рж╛ ржпрж╛ржпрж╝ ржирж╛"
```

## ЁЯУЪ ржкрж░ржмрж░рзНрждрзА ржЯржкрж┐ржХ

[ржЕрзНржпрж╛ржнрзЗржЗрж▓рзЗржмрж┐рж▓рж┐ржЯрж┐ тЖТ](./05-availability.md)
