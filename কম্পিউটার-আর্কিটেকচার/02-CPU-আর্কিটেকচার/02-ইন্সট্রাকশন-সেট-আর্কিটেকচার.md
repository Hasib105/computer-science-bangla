# ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи рж╕рзЗржЯ ржЖрж░рзНржХрж┐ржЯрзЗржХржЪрж╛рж░ (ISA)
## Chapter 05: Instruction Set Architecture

---

## ЁЯУМ ISA ржХрзА?

ISA рж╣рж▓рзЛ рж╣рж╛рж░рзНржбржУржпрж╝рзНржпрж╛рж░ ржУ рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░рзЗрж░ ржоржзрзНржпрзЗ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ред

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ              Software (Programs)                 тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ          Instruction Set Architecture           тФВ  тЖР Interface
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ         Hardware (Microarchitecture)            тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## ЁЯУЭ ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи ржлрж░ржорзНржпрж╛ржЯ

### ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржирзЗрж░ ржЙржкрж╛ржжрж╛ржи
```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  Opcode  тФВ Operand1 тФВ Operand2 тФВ Operand3 тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### ржлрж░ржорзНржпрж╛ржЯрзЗрж░ ржкрзНрж░ржХрж╛рж░

#### ржерзНрж░рж┐-ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕
```
ADD R1, R2, R3    ; R1 = R2 + R3
```

#### ржЯрзБ-ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕
```
ADD R1, R2        ; R1 = R1 + R2
```

#### ржУржпрж╝рж╛ржи-ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ (Accumulator)
```
LOAD X            ; ACC = X
ADD Y             ; ACC = ACC + Y
```

#### ржЬрж┐рж░рзЛ-ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ (Stack)
```
PUSH A
PUSH B
ADD               ; TOS = A + B
```

---

## ЁЯУН ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ ржорзЛржб

| Mode | ржмрж░рзНржгржирж╛ | ржЙржжрж╛рж╣рж░ржг |
|------|--------|--------|
| Immediate | ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржирзЗ ржорж╛ржи | MOV R1, #5 |
| Register | рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░рзЗ | ADD R1, R2 |
| Direct | ржорзЗржорзЛрж░рж┐ ржарж┐ржХрж╛ржирж╛ | LOAD R1, [1000] |
| Indirect | ржорзЗржорзЛрж░рж┐рждрзЗ ржарж┐ржХрж╛ржирж╛ | LOAD R1, [[R2]] |
| Indexed | Base + Offset | LOAD R1, [R2+4] |
| PC-Relative | PC + Offset | BEQ +8 |

---

## ЁЯУЛ ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржирзЗрж░ ржкрзНрж░ржХрж╛рж░

### Data Transfer
```
LOAD, STORE, MOV, PUSH, POP
```

### Arithmetic
```
ADD, SUB, MUL, DIV, INC, DEC
```

### Logical
```
AND, OR, XOR, NOT
```

### Shift/Rotate
```
LSL, LSR, ASR, ROL, ROR
```

### Control Flow
```
JMP, BEQ, BNE, CALL, RET
```

---

## тЪЦя╕П CISC vs RISC

| Feature | CISC | RISC |
|---------|------|------|
| Instructions | 100+ | 50-100 |
| Format | Variable | Fixed |
| Cycles/Instr | Multiple | 1 (mostly) |
| Memory Access | Any instr | Load/Store |
| Registers | 8-16 | 32+ |
| Example | x86 | ARM, MIPS |

---

## ЁЯФз MIPS ISA

### R-Type (Register)
```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ opcode тФВ  rs   тФВ  rt   тФВ  rd   тФВ shamt тФВ funct  тФВ
тФВ 6 bits тФВ 5bits тФВ 5bits тФВ 5bits тФВ 5bits тФВ 6 bits тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### I-Type (Immediate)
```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ opcode тФВ  rs   тФВ  rt   тФВ     immediate         тФВ
тФВ 6 bits тФВ 5bits тФВ 5bits тФВ      16 bits          тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### J-Type (Jump)
```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ opcode тФВ            address                   тФВ
тФВ 6 bits тФВ            26 bits                   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## тЬПя╕П ржЕржирзБрж╢рзАрж▓ржирзА

1. CISC ржУ RISC ржПрж░ рзлржЯрж┐ ржкрж╛рж░рзНржержХрзНржп рж▓рж┐ржЦрзБржиред
2. ржкрзНрж░рждрж┐ржЯрж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ ржорзЛржбрзЗрж░ ржЙржжрж╛рж╣рж░ржг ржжрж┐ржиред
3. A = B + C - D ржПрж░ 3-address, 2-address, 1-address ржХрзЛржб рж▓рж┐ржЦрзБржиред

---

## ЁЯУЪ ржкрж░ржмрж░рзНрждрзА ржЕржзрзНржпрж╛ржпрж╝
[рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ ржУ ALU](./03-рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░-ржУ-ALU.md)
