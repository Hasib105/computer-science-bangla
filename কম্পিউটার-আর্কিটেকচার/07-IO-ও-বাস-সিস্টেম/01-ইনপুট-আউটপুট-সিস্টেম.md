# à¦‡à¦¨à¦ªà§à¦Ÿ/à¦†à¦‰à¦Ÿà¦ªà§à¦Ÿ à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦®
## Chapter 19: Input/Output System

---

## ğŸ“Œ I/O à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦® à¦ªà¦°à¦¿à¦šà¦¿à¦¤à¦¿

I/O (Input/Output) à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦® à¦¹à¦²à§‹ CPU à¦“ à¦¬à¦¾à¦‡à¦°à§‡à¦° à¦œà¦—à¦¤à§‡à¦° à¦®à¦§à§à¦¯à§‡ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦—à§‡à¦° à¦®à¦¾à¦§à§à¦¯à¦®à¥¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Computer System                           â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚       â”‚    â”‚       â”‚    â”‚      I/O Devices           â”‚   â”‚
â”‚  â”‚  CPU  â”‚â—€â•â•â–¶â”‚Memory â”‚â—€â•â•â–¶â”‚                            â”‚   â”‚
â”‚  â”‚       â”‚    â”‚       â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚Disk â”‚ â”‚Keybdâ”‚ â”‚Netwkâ”‚  â”‚   â”‚
â”‚       â–²                     â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚       â”‚                     â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚Mouseâ”‚ â”‚Displâ”‚ â”‚ USB â”‚  â”‚   â”‚
â”‚              System Bus     â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ I/O Device Categories

### Device Types

| Category | Examples | Data Rate |
|----------|----------|-----------|
| Human Interface | Keyboard, Mouse | Low (~100 bytes/s) |
| Storage | SSD, HDD | High (~GB/s) |
| Communication | Network, USB | Medium-High |
| Multimedia | Display, Audio | High (~GB/s) |

### Speed Comparison

```
Device Speed Hierarchy:

Human typing      â”€â”€â”€â–¶ 10 bytes/s
Mouse             â”€â”€â”€â–¶ 100 bytes/s
Keyboard          â”€â”€â”€â–¶ 100 bytes/s
10G Ethernet      â”€â”€â”€â–¶ 1.25 GB/s
USB 3.2           â”€â”€â”€â–¶ 2.5 GB/s
NVMe SSD          â”€â”€â”€â–¶ 7 GB/s
PCIe 5.0 x16      â”€â”€â”€â–¶ 128 GB/s
GPU Memory (HBM)  â”€â”€â”€â–¶ 3000+ GB/s
```

---

## ğŸ“Š I/O Methods

### à§§. Programmed I/O (Polling)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Programmed I/O                            â”‚
â”‚                                                              â”‚
â”‚  CPU                          Device                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚      â”‚ â”€â”€1. Check statusâ”€â–¶â”‚      â”‚                       â”‚
â”‚  â”‚      â”‚ â—€â”€â”€2. Not readyâ”€â”€â”€â”€â”‚      â”‚                       â”‚
â”‚  â”‚      â”‚ â”€â”€3. Check statusâ”€â–¶â”‚      â”‚                       â”‚
â”‚  â”‚      â”‚ â—€â”€â”€4. Not readyâ”€â”€â”€â”€â”‚      â”‚                       â”‚
â”‚  â”‚      â”‚     ... (polling)  â”‚      â”‚                       â”‚
â”‚  â”‚      â”‚ â”€â”€N. Check statusâ”€â–¶â”‚      â”‚                       â”‚
â”‚  â”‚      â”‚ â—€â”€â”€Readyâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚                       â”‚
â”‚  â”‚      â”‚ â”€â”€Transfer dataâ”€â”€â”€â–¶â”‚      â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                              â”‚
â”‚  Drawback: CPU wastes time polling                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```c
// Polling Example
while (!(status_register & READY_BIT)) {
    // Busy wait
}
data_register = data;  // Transfer data
```

### à§¨. Interrupt-Driven I/O

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Interrupt-Driven I/O                        â”‚
â”‚                                                              â”‚
â”‚  CPU                                     Device              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”                               â”Œâ”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚      â”‚ â”€â”€1. Start I/Oâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚      â”‚            â”‚
â”‚  â”‚      â”‚                                â”‚      â”‚            â”‚
â”‚  â”‚ Do   â”‚                                â”‚ Work â”‚            â”‚
â”‚  â”‚ Otherâ”‚                                â”‚      â”‚            â”‚
â”‚  â”‚ Work â”‚                                â”‚      â”‚            â”‚
â”‚  â”‚      â”‚ â—€â”€â”€2. Interrupt (Ready)â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚            â”‚
â”‚  â”‚      â”‚ â”€â”€3. Handle interrupt          â”‚      â”‚            â”‚
â”‚  â”‚      â”‚ â”€â”€4. Transfer dataâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚      â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                               â””â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                              â”‚
â”‚  Advantage: CPU can do other work while waiting             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### à§©. DMA (Direct Memory Access)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DMA                                  â”‚
â”‚                                                              â”‚
â”‚  CPU                 DMA Controller              Device      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      â”‚ â”€â”€1. Setupâ”‚              â”‚           â”‚      â”‚    â”‚
â”‚  â”‚      â”‚    DMAâ”€â”€â”€â–¶â”‚ Source addr  â”‚           â”‚      â”‚    â”‚
â”‚  â”‚      â”‚           â”‚ Dest addr    â”‚           â”‚      â”‚    â”‚
â”‚  â”‚      â”‚           â”‚ Byte count   â”‚           â”‚      â”‚    â”‚
â”‚  â”‚      â”‚           â”‚              â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚    â”‚
â”‚  â”‚ Do   â”‚           â”‚ 2. Transfer  â”‚           â”‚ Data â”‚    â”‚
â”‚  â”‚ Otherâ”‚           â”‚    data      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚      â”‚    â”‚
â”‚  â”‚ Work â”‚           â”‚ (No CPU!)    â”‚           â”‚      â”‚    â”‚
â”‚  â”‚      â”‚â—€â”€â”€3. Done â”‚              â”‚           â”‚      â”‚    â”‚
â”‚  â”‚      â”‚ Interrupt â”‚              â”‚           â”‚      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  Advantage: CPU not involved in data transfer               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### I/O Method Comparison

| Method | CPU Involvement | Speed | Use Case |
|--------|-----------------|-------|----------|
| Programmed I/O | 100% | Slow | Simple devices |
| Interrupt I/O | Start/End | Medium | Moderate speed |
| DMA | Setup only | Fast | High-speed bulk |

---

## âš¡ Interrupt System

### Interrupt Types

```
Interrupts
â”œâ”€â”€ Hardware Interrupts
â”‚   â”œâ”€â”€ Maskable (can be disabled)
â”‚   â”‚   â”œâ”€â”€ I/O device ready
â”‚   â”‚   â””â”€â”€ Timer
â”‚   â””â”€â”€ Non-maskable (NMI)
â”‚       â”œâ”€â”€ Power failure
â”‚       â””â”€â”€ Hardware error
â”‚
â””â”€â”€ Software Interrupts
    â”œâ”€â”€ System calls
    â”œâ”€â”€ Exceptions
    â”‚   â”œâ”€â”€ Divide by zero
    â”‚   â”œâ”€â”€ Page fault
    â”‚   â””â”€â”€ Invalid opcode
    â””â”€â”€ Traps
```

### Interrupt Handling

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Interrupt Handling                         â”‚
â”‚                                                              â”‚
â”‚  1. Device raises interrupt                                  â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  2. CPU finishes current instruction                        â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  3. Save context (PC, registers)                            â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  4. Determine interrupt type (vector)                       â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  5. Jump to Interrupt Service Routine (ISR)                 â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  6. Execute ISR                                             â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  7. Restore context                                         â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  8. Return to interrupted program                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Interrupt Vector Table

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Interrupt Vector Table                       â”‚
â”‚                                                              â”‚
â”‚  Vector â”‚ Address     â”‚ Description                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚    0    â”‚ 0x00000000  â”‚ Divide by Zero                      â”‚
â”‚    1    â”‚ 0x00000004  â”‚ Debug Exception                     â”‚
â”‚    2    â”‚ 0x00000008  â”‚ NMI                                 â”‚
â”‚    ...  â”‚ ...         â”‚ ...                                 â”‚
â”‚   13    â”‚ 0x00000034  â”‚ General Protection Fault            â”‚
â”‚   14    â”‚ 0x00000038  â”‚ Page Fault                          â”‚
â”‚   32+   â”‚ ...         â”‚ IRQ (Hardware Interrupts)           â”‚
â”‚   128   â”‚ 0x00000200  â”‚ System Call (Linux)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ DMA Architecture

### DMA Controller

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DMA Controller                            â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚    â”‚
â”‚  â”‚  â”‚ Source Addr  â”‚   â”‚  Dest Addr   â”‚               â”‚    â”‚
â”‚  â”‚  â”‚  Register    â”‚   â”‚  Register    â”‚               â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚    â”‚
â”‚  â”‚  â”‚ Byte Count   â”‚   â”‚   Control    â”‚               â”‚    â”‚
â”‚  â”‚  â”‚  Register    â”‚   â”‚  Register    â”‚               â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚  â”‚         DMA Logic              â”‚                â”‚    â”‚
â”‚  â”‚  â”‚  - Bus arbitration             â”‚                â”‚    â”‚
â”‚  â”‚  â”‚  - Address generation          â”‚                â”‚    â”‚
â”‚  â”‚  â”‚  - Cycle counting              â”‚                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DMA Transfer Modes

```
1. Burst Mode:
   - DMA holds bus until complete
   - Fastest, but CPU is blocked
   
   [â”€â”€â”€â”€â”€â”€â”€DMA Transferâ”€â”€â”€â”€â”€â”€â”€]
   
2. Cycle Stealing:
   - DMA takes bus for one cycle at a time
   - Interleaved with CPU
   
   [CPU][DMA][CPU][DMA][CPU][DMA]
   
3. Transparent Mode:
   - DMA only when CPU doesn't need bus
   - Slowest, but no CPU impact
   
   [CPU operation]   [DMA]   [CPU operation]   [DMA]
```

---

## ğŸ“¡ I/O Addressing

### Memory-Mapped I/O

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Memory-Mapped I/O                           â”‚
â”‚                                                              â”‚
â”‚  Address Space:                                              â”‚
â”‚  0x00000000 â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚             â”‚                 â”‚                              â”‚
â”‚             â”‚     Memory      â”‚                              â”‚
â”‚             â”‚                 â”‚                              â”‚
â”‚  0x7FFFFFFF â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                             â”‚
â”‚  0x80000000 â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                             â”‚
â”‚             â”‚  I/O Registers  â”‚                              â”‚
â”‚  0xFFFFFFFF â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                              â”‚
â”‚  Access: Same instructions as memory                        â”‚
â”‚  MOV [0x80001000], R1   ; Write to I/O device              â”‚
â”‚  MOV R2, [0x80001004]   ; Read from I/O device             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Port-Mapped I/O (x86)

```
Separate I/O address space:

IN  AL, 0x60    ; Read from keyboard port
OUT 0x3C0, AL   ; Write to VGA port

Ports:
0x20-0x21   - Interrupt Controller
0x40-0x43   - Timer
0x60-0x64   - Keyboard
0x3F8       - COM1 Serial
0x378       - LPT1 Parallel
```

### Comparison

| Feature | Memory-Mapped | Port-Mapped |
|---------|---------------|-------------|
| Instructions | Standard load/store | Special IN/OUT |
| Address Space | Shared with memory | Separate |
| Protection | Memory protection | I/O permission |
| Common in | ARM, RISC | x86 |

---

## ğŸ”„ I/O Buffering

### Buffer Strategies

```
1. No Buffering:
   [Device] â—€â•â•â•â–¶ [Process]
   - Direct transfer
   
2. Single Buffering:
   [Device] â—€â•â•â•â–¶ [Buffer] â—€â•â•â•â–¶ [Process]
   - One buffer between device and process
   
3. Double Buffering:
   [Device] â—€â•â–¶ [Buffer 1] â—€â•â–¶ [Process]
                [Buffer 2] â—€â•â–¶
   - Overlap I/O and processing
   
4. Circular Buffering:
   [Device] â—€â•â–¶ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â—€â•â–¶ [Process]
                â”‚  Buffer Pool    â”‚
                â”‚  [1][2][3][4]   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœï¸ à¦…à¦¨à§à¦¶à§€à¦²à¦¨à§€

1. Polling, Interrupt, DMA à¦à¦° à¦®à¦§à§à¦¯à§‡ à¦ªà¦¾à¦°à§à¦¥à¦•à§à¦¯ à¦²à¦¿à¦–à§à¦¨à¥¤
2. Interrupt handling à¦à¦° à¦§à¦¾à¦ªà¦—à§à¦²à§‹ à¦¬à¦°à§à¦£à¦¨à¦¾ à¦•à¦°à§à¦¨à¥¤
3. Memory-mapped à¦“ Port-mapped I/O à¦à¦° à¦¤à§à¦²à¦¨à¦¾ à¦•à¦°à§à¦¨à¥¤

---

## ğŸ“š à¦ªà¦°à¦¬à¦°à§à¦¤à§€ à¦…à¦§à§à¦¯à¦¾à¦¯à¦¼
[à¦¬à¦¾à¦¸ à¦†à¦°à§à¦•à¦¿à¦Ÿà§‡à¦•à¦šà¦¾à¦°](./02-à¦¬à¦¾à¦¸-à¦†à¦°à§à¦•à¦¿à¦Ÿà§‡à¦•à¦šà¦¾à¦°.md)
