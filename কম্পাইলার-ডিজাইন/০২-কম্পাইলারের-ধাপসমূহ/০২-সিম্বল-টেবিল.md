# ЁЯУЛ рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓ (Symbol Table)

## рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓ ржХрзА?

**рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓** рж╣рж▓рзЛ ржПржХржЯрж┐ ржбрж╛ржЯрж╛ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржпрж╛ ржХржорзНржкрж╛ржЗрж▓рж╛рж░ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорзЗрж░ рж╕ржорж╕рзНржд identifier (ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓, ржлрж╛ржВрж╢ржи, ржХрзНрж▓рж╛рж╕ ржЗрждрзНржпрж╛ржжрж┐) рж╕ржорзНржкрж░рзНржХрзЗ рждржерзНржп рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ                      рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓                                тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ                                                                 тФВ
тФВ  ржкрзНрж░рждрж┐ржЯрж┐ Phase ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ                                   тФВ
тФВ                                                                 тФВ
тФВ  Lexical тФАтФАтФР                                                    тФВ
тФВ  Syntax  тФАтФАтФ╝тФАтФАтЦ╢ Symbol Table тЧАтФАтФАтФмтФАтФА Semantic                   тФВ
тФВ  IR Gen  тФАтФАтФд                    тФЬтФАтФА Code Gen                    тФВ
тФВ  Optimize тФАтФШ                    тФФтФАтФА All Phases                  тФВ
тФВ                                                                 тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

## ЁЯУК рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓рзЗ ржХрзА ржерж╛ржХрзЗ?

### ржкрзНрж░рждрж┐ржЯрж┐ Entry-рждрзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд рждржерзНржп:

| ржлрж┐рж▓рзНржб | ржмрж░рзНржгржирж╛ | ржЙржжрж╛рж╣рж░ржг |
|------|-------|--------|
| Name | рж╕рж┐ржорзНржмрж▓рзЗрж░ ржирж╛ржо | `count`, `sum`, `main` |
| Type | ржбрж╛ржЯрж╛ ржЯрж╛ржЗржк | `int`, `float`, `char*` |
| Scope | рж╕рзНржХрзЛржк рж▓рзЗржнрзЗрж▓ | `global`, `local`, `block` |
| Size | ржорзЗржорж░рж┐ рж╕рж╛ржЗржЬ | `4 bytes`, `8 bytes` |
| Address | ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ | `1000`, `1004` |
| Line No | ржбрж┐ржХрзНрж▓рж╛рж░рзЗрж╢ржи рж▓рж╛ржЗржи | `5`, `12` |
| Dimension | ржЕрзНржпрж╛рж░рзЗ ржбрж╛ржЗржорзЗржирж╢ржи | `[10]`, `[5][5]` |
| Parameters | ржлрж╛ржВрж╢ржи ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ | `(int, int)` |

## ЁЯФН ржЙржжрж╛рж╣рж░ржг

### рж╕рзЛрж░рзНрж╕ ржХрзЛржб:
```c
int global_var = 10;

float calculate(int a, int b) {
    float result;
    result = a + b;
    return result;
}

int main() {
    int x = 5;
    int y = 10;
    float z;
    z = calculate(x, y);
    return 0;
}
```

### рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓:
```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ     ржирж╛ржо      тФВ  ржЯрж╛ржЗржк  тФВ   рж╕рзНржХрзЛржк  тФВ рж╕рж╛ржЗржЬ тФВ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ тФВ  рж▓рж╛ржЗржи  тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ global_var   тФВ  int   тФВ global   тФВ  4   тФВ  1000   тФВ   1    тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ calculate    тФВ func   тФВ global   тФВ  -   тФВ   -     тФВ   3    тФВ
тФВ   тФФтФА a       тФВ  int   тФВ calculateтФВ  4   тФВ  -4     тФВ   3    тФВ
тФВ   тФФтФА b       тФВ  int   тФВ calculateтФВ  4   тФВ  -8     тФВ   3    тФВ
тФВ   тФФтФА result  тФВ float  тФВ calculateтФВ  4   тФВ  -12    тФВ   4    тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ main         тФВ func   тФВ global   тФВ  -   тФВ   -     тФВ   9    тФВ
тФВ   тФФтФА x       тФВ  int   тФВ main     тФВ  4   тФВ  -4     тФВ  10    тФВ
тФВ   тФФтФА y       тФВ  int   тФВ main     тФВ  4   тФВ  -8     тФВ  11    тФВ
тФВ   тФФтФА z       тФВ float  тФВ main     тФВ  4   тФВ  -12    тФВ  12    тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

## ЁЯПЧя╕П рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓ ржЕржкрж╛рж░рзЗрж╢ржи

### рзз. Insert (рж╕ржВржпрзЛржЬржи)
```
ржирждрзБржи рж╕рж┐ржорзНржмрж▓ ржпрзЛржЧ ржХрж░рж╛
insert(name, type, scope, ...)
```

### рзи. Lookup (ржЕржирзБрж╕ржирзНржзрж╛ржи)
```
рж╕рж┐ржорзНржмрж▓ ржЦрзЛржБржЬрж╛
lookup(name) тЖТ entry or NULL
```

### рзй. Delete (ржЕржкрж╕рж╛рж░ржг)
```
рж╕рж┐ржорзНржмрж▓ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ (рж╕рзНржХрзЛржк рж╢рзЗрж╖рзЗ)
delete(name) or deleteScope(scope)
```

### рзк. Update (ржЖржкржбрзЗржЯ)
```
рждржерзНржп ржкрж░рж┐ржмрж░рзНрждржи
update(name, attribute, value)
```

## ЁЯУР рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи

### рзз. Linear List (Array/Linked List)
```
тФМтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФР
тФВ a тФВ b тФВ x тФВ y тФВ z тФВ...тФВ
тФФтФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФШ
```
- **рж╕рзБржмрж┐ржзрж╛**: рж╕рж╣ржЬ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
- **ржЕрж╕рзБржмрж┐ржзрж╛**: O(n) рж╕рж╛рж░рзНржЪ ржЯрж╛ржЗржо

### рзи. Hash Table
```
Hash Function: h(key) = key mod table_size

тФМтФАтФАтФАтФАтФАтФАтФАтФР
тФВ   0   тФВтФАтФАтЦ╢ NULL
тФЬтФАтФАтФАтФАтФАтФАтФАтФд
тФВ   1   тФВтФАтФАтЦ╢ [x] тФАтФАтЦ╢ [y]
тФЬтФАтФАтФАтФАтФАтФАтФАтФд
тФВ   2   тФВтФАтФАтЦ╢ [a]
тФЬтФАтФАтФАтФАтФАтФАтФАтФд
тФВ   3   тФВтФАтФАтЦ╢ NULL
тФЬтФАтФАтФАтФАтФАтФАтФАтФд
тФВ   4   тФВтФАтФАтЦ╢ [b] тФАтФАтЦ╢ [z]
тФФтФАтФАтФАтФАтФАтФАтФАтФШ
```
- **рж╕рзБржмрж┐ржзрж╛**: O(1) average рж╕рж╛рж░рзНржЪ
- **ржЕрж╕рзБржмрж┐ржзрж╛**: Collision handling

### рзй. Binary Search Tree
```
        [m]
       /   \
     [g]   [r]
    /   \    \
  [a]   [k]  [z]
```
- **рж╕рзБржмрж┐ржзрж╛**: O(log n) рж╕рж╛рж░рзНржЪ
- **ржЕрж╕рзБржмрж┐ржзрж╛**: ржЬржЯрж┐рж▓ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи

## ЁЯФД рж╕рзНржХрзЛржк ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ

### Nested Scope ржЙржжрж╛рж╣рж░ржг:
```c
int x = 10;              // Scope 0 (Global)
void func() {            // Scope 1
    int x = 20;          // Scope 1
    if (true) {          // Scope 2
        int x = 30;      // Scope 2
    }
}
```

### Stack-Based Scope:
```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  Stack of Symbol Tables                 тФВ
тФВ                                         тФВ
тФВ  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР                  тФВ
тФВ  тФВ Scope 2 (if block)тФВ тЧАтФАтФА Current      тФВ
тФВ  тФВ   x = 30          тФВ                  тФВ
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ                  тФВ
тФВ  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР                  тФВ
тФВ  тФВ Scope 1 (func)    тФВ                  тФВ
тФВ  тФВ   x = 20          тФВ                  тФВ
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ                  тФВ
тФВ  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР                  тФВ
тФВ  тФВ Scope 0 (global)  тФВ                  тФВ
тФВ  тФВ   x = 10          тФВ                  тФВ
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ                  тФВ
тФВ                                         тФВ
тФВ  Lookup: ржирж┐ржХржЯрждржо рж╕рзНржХрзЛржк ржерзЗржХрзЗ ржЦрзЛржБржЬрж╛ рж╢рзБрж░рзБ     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

## ЁЯТ╗ C-рждрзЗ рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define TABLE_SIZE 100

// рж╕рж┐ржорзНржмрж▓ ржПржирзНржЯрзНрж░рж┐ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░
typedef struct Symbol {
    char name[50];
    char type[20];
    int scope;
    int size;
    int address;
    struct Symbol* next;
} Symbol;

// рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓
Symbol* symbolTable[TABLE_SIZE];

// рж╣рзНржпрж╛рж╢ ржлрж╛ржВрж╢ржи
int hash(char* name) {
    int sum = 0;
    for(int i = 0; name[i]; i++) {
        sum += name[i];
    }
    return sum % TABLE_SIZE;
}

// Insert ржЕржкрж╛рж░рзЗрж╢ржи
void insert(char* name, char* type, int scope, int size, int address) {
    int index = hash(name);
    
    Symbol* newSymbol = (Symbol*)malloc(sizeof(Symbol));
    strcpy(newSymbol->name, name);
    strcpy(newSymbol->type, type);
    newSymbol->scope = scope;
    newSymbol->size = size;
    newSymbol->address = address;
    newSymbol->next = symbolTable[index];
    
    symbolTable[index] = newSymbol;
    printf("Inserted: %s\n", name);
}

// Lookup ржЕржкрж╛рж░рзЗрж╢ржи
Symbol* lookup(char* name) {
    int index = hash(name);
    Symbol* current = symbolTable[index];
    
    while(current != NULL) {
        if(strcmp(current->name, name) == 0) {
            return current;
        }
        current = current->next;
    }
    return NULL;
}

// ржкрзНрж░ржжрж░рзНрж╢ржи
void display() {
    printf("\n=== Symbol Table ===\n");
    printf("%-15s %-10s %-8s %-6s %-10s\n", 
           "Name", "Type", "Scope", "Size", "Address");
    printf("тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА\n");
    
    for(int i = 0; i < TABLE_SIZE; i++) {
        Symbol* current = symbolTable[i];
        while(current != NULL) {
            printf("%-15s %-10s %-8d %-6d %-10d\n",
                   current->name, current->type, 
                   current->scope, current->size, 
                   current->address);
            current = current->next;
        }
    }
}

int main() {
    // рж╕рж┐ржорзНржмрж▓ ржпрзЛржЧ ржХрж░рж╛
    insert("x", "int", 0, 4, 1000);
    insert("y", "float", 0, 4, 1004);
    insert("sum", "int", 1, 4, 1008);
    insert("calculate", "function", 0, 0, 0);
    
    display();
    
    // Lookup
    Symbol* found = lookup("y");
    if(found) {
        printf("\nFound: %s, Type: %s\n", found->name, found->type);
    }
    
    return 0;
}
```

## тЬЕ ржкрзНрж░рждрж┐ржЯрж┐ Phase-ржП рж╕рж┐ржорзНржмрж▓ ржЯрзЗржмрж┐рж▓рзЗрж░ ржмрзНржпржмрж╣рж╛рж░

| Phase | ржмрзНржпржмрж╣рж╛рж░ |
|-------|--------|
| Lexical | ржирждрзБржи identifier рж╕ржВржпрзЛржЬржи |
| Syntax | ржЯрж╛ржЗржк ржУ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ рждржерзНржп ржпрзЛржЧ |
| Semantic | ржЯрж╛ржЗржк ржЪрзЗржХрж┐ржВ, рж╕рзНржХрзЛржк ржпрж╛ржЪрж╛ржЗ |
| IR Gen | ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржУ рж╕рж╛ржЗржЬ рждржерзНржп ржмрзНржпржмрж╣рж╛рж░ |
| Code Gen | ржорзЗржорж░рж┐ ржЕрзНржпрж╛рж▓рзЛржХрзЗрж╢ржи |

---
**ржкрж░ржмрж░рзНрждрзА ржЕржзрзНржпрж╛ржпрж╝**: [ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ](рзжрзй-ржПрж░рж░-рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ.md)
