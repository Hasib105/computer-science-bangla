# Containers & Docker (à¦•à¦¨à§à¦Ÿà§‡à¦‡à¦¨à¦¾à¦° à¦“ à¦¡à¦•à¦¾à¦°)

## ğŸ“Œ Container à¦•à¦¿?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   Container = Lightweight, isolated environment for apps    â”‚
â”‚               Shares host OS kernel                         â”‚
â”‚                                                             â”‚
â”‚   Virtual Machines:              Containers:                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ App1 â”‚ App2 â”‚ App3   â”‚     â”‚ App1 â”‚ App2 â”‚ App3   â”‚ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   â”‚ OS1  â”‚ OS2  â”‚ OS3    â”‚     â”‚ Bins â”‚ Bins â”‚ Bins   â”‚ â”‚
â”‚   â”‚(full)â”‚(full)â”‚ (full) â”‚     â”‚ Libs â”‚ Libs â”‚ Libs   â”‚ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   â”‚     Hypervisor       â”‚     â”‚   Container Runtime   â”‚ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚      (Docker)        â”‚ â”‚
â”‚   â”‚      Host OS         â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚      Host OS         â”‚ â”‚
â”‚   â”‚      Hardware        â”‚     â”‚   (shared kernel)    â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚                                â”‚      Hardware        â”‚ â”‚
â”‚   Heavy (GB size)              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   Slow to start (minutes)      Light (MB size)          â”‚
â”‚                                Fast to start (seconds)   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ³ Docker Basics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Components                        â”‚
â”‚                                                             â”‚
â”‚   1. Docker Image                                           â”‚
â”‚      Template containing app + dependencies                 â”‚
â”‚      Read-only, layered                                     â”‚
â”‚                                                             â”‚
â”‚   2. Docker Container                                       â”‚
â”‚      Running instance of image                              â”‚
â”‚      Has own filesystem, network, process space             â”‚
â”‚                                                             â”‚
â”‚   3. Docker Registry                                        â”‚
â”‚      Store and distribute images                            â”‚
â”‚      Docker Hub (public)                                    â”‚
â”‚                                                             â”‚
â”‚   4. Dockerfile                                             â”‚
â”‚      Instructions to build image                            â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                     â”‚  â”‚
â”‚   â”‚  Dockerfile â”€â”€â–º docker build â”€â”€â–º Image             â”‚  â”‚
â”‚   â”‚                                     â”‚              â”‚  â”‚
â”‚   â”‚                               docker run           â”‚  â”‚
â”‚   â”‚                                     â”‚              â”‚  â”‚
â”‚   â”‚                                     â–¼              â”‚  â”‚
â”‚   â”‚                               Container             â”‚  â”‚
â”‚   â”‚                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Dockerfile Example

```dockerfile
# Base image
FROM python:3.9-slim

# Set working directory
WORKDIR /app

# Copy requirements file
COPY requirements.txt .

# Install dependencies
RUN pip install --no-cache-dir -r requirements.txt

# Copy application code
COPY . .

# Expose port
EXPOSE 5000

# Command to run
CMD ["python", "app.py"]
```

### Docker Commands

```bash
# Build image
docker build -t myapp:v1 .

# Run container
docker run -d -p 8080:5000 myapp:v1

# List containers
docker ps

# Stop container
docker stop container_id

# View logs
docker logs container_id

# Enter container
docker exec -it container_id bash

# Pull image from registry
docker pull nginx:latest

# Push image to registry
docker push username/myapp:v1
```

---

## ğŸ—ï¸ Container Architecture (Linux)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Linux Container Technologies                 â”‚
â”‚                                                             â”‚
â”‚   1. Namespaces (Isolation)                                â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚      â”‚  PID: Process isolation                         â”‚   â”‚
â”‚      â”‚  NET: Network isolation                         â”‚   â”‚
â”‚      â”‚  MNT: Filesystem isolation                      â”‚   â”‚
â”‚      â”‚  UTS: Hostname isolation                        â”‚   â”‚
â”‚      â”‚  IPC: Inter-process communication              â”‚   â”‚
â”‚      â”‚  USER: User/Group isolation                     â”‚   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   2. cgroups (Resource Limiting)                           â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚      â”‚  CPU: Limit CPU usage                           â”‚   â”‚
â”‚      â”‚  Memory: Limit RAM usage                        â”‚   â”‚
â”‚      â”‚  I/O: Limit disk I/O                           â”‚   â”‚
â”‚      â”‚  Network: Limit bandwidth                       â”‚   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   3. Union Filesystem (Layered storage)                    â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚      â”‚  Layer 3: Application code (writable)          â”‚   â”‚
â”‚      â”‚  Layer 2: Dependencies                          â”‚   â”‚
â”‚      â”‚  Layer 1: Base OS files                         â”‚   â”‚
â”‚      â”‚  (Layers are read-only, shared between images)  â”‚   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ Kubernetes (Container Orchestration)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Kubernetes                             â”‚
â”‚                                                             â”‚
â”‚   Manage containerized applications at scale               â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                   Master Node                       â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚   API    â”‚ â”‚Controllerâ”‚ â”‚    Scheduler     â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  Server  â”‚ â”‚ Manager  â”‚ â”‚                  â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                  â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚          â”‚               â”‚               â”‚                 â”‚
â”‚          â–¼               â–¼               â–¼                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚Worker Nodeâ”‚   â”‚Worker Nodeâ”‚   â”‚Worker Nodeâ”‚           â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚
â”‚   â”‚ â”‚ Pod   â”‚ â”‚   â”‚ â”‚ Pod   â”‚ â”‚   â”‚ â”‚ Pod   â”‚ â”‚           â”‚
â”‚   â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”â”‚ â”‚   â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”â”‚ â”‚   â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”â”‚ â”‚           â”‚
â”‚   â”‚ â”‚â”‚Cont â”‚â”‚ â”‚   â”‚ â”‚â”‚Cont â”‚â”‚ â”‚   â”‚ â”‚â”‚Cont â”‚â”‚ â”‚           â”‚
â”‚   â”‚ â”‚â””â”€â”€â”€â”€â”€â”˜â”‚ â”‚   â”‚ â”‚â””â”€â”€â”€â”€â”€â”˜â”‚ â”‚   â”‚ â”‚â””â”€â”€â”€â”€â”€â”˜â”‚ â”‚           â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚
â”‚   â”‚  kubelet  â”‚   â”‚  kubelet  â”‚   â”‚  kubelet  â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                             â”‚
â”‚   Pod = Smallest deployable unit (1+ containers)           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Kubernetes Concepts

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   Pod:          One or more containers                      â”‚
â”‚   Deployment:   Manages pod replicas, updates              â”‚
â”‚   Service:      Network access to pods                      â”‚
â”‚   ConfigMap:    Configuration data                          â”‚
â”‚   Secret:       Sensitive data (passwords)                  â”‚
â”‚   Volume:       Persistent storage                          â”‚
â”‚                                                             â”‚
â”‚   Key Features:                                             â”‚
â”‚   â€¢ Auto-scaling (increase pods on load)                   â”‚
â”‚   â€¢ Self-healing (restart failed containers)               â”‚
â”‚   â€¢ Rolling updates (zero-downtime deployment)             â”‚
â”‚   â€¢ Load balancing                                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š VM vs Container

| Feature | VM | Container |
|---------|----|-----------| 
| Size | GB | MB |
| Startup | Minutes | Seconds |
| OS | Full OS | Shared kernel |
| Isolation | Strong | Process-level |
| Resources | Heavy | Light |
| Portability | Hardware dependent | Very portable |
| Use case | Different OS | Same OS apps |

---

## â“ à¦—à§à¦°à§à¦¤à§à¦¬à¦ªà§‚à¦°à§à¦£ à¦ªà§à¦°à¦¶à§à¦¨

**à¦ªà§à¦°à¦¶à§à¦¨ à§§:** Container à¦•à§‡à¦¨ lightweight?
**à¦‰à¦¤à§à¦¤à¦°:** Container à¦ à¦ªà§à¦°à§‹ OS à¦¨à§‡à¦‡à¥¤ Host à¦à¦° kernel share à¦•à¦°à§‡à¥¤ à¦¶à§à¦§à§ application à¦à¦¬à¦‚ à¦¤à¦¾à¦° dependencies à¦†à¦›à§‡à¥¤

**à¦ªà§à¦°à¦¶à§à¦¨ à§¨:** Namespace à¦•à¦¿ à¦•à¦°à§‡?
**à¦‰à¦¤à§à¦¤à¦°:** Isolation provide à¦•à¦°à§‡à¥¤ Process, network, filesystem etc. à¦†à¦²à¦¾à¦¦à¦¾ à¦•à¦°à§‡ à¦°à¦¾à¦–à§‡à¥¤ Container à¦®à¦¨à§‡ à¦•à¦°à§‡ à¦¸à§‡ alone system à¦ à¦†à¦›à§‡à¥¤

**à¦ªà§à¦°à¦¶à§à¦¨ à§©:** Kubernetes à¦•à§‡à¦¨ à¦¦à¦°à¦•à¦¾à¦°?
**à¦‰à¦¤à§à¦¤à¦°:**
- Hundreds of containers manage à¦•à¦°à¦¾ à¦•à¦ à¦¿à¦¨
- Auto-scaling à¦¦à¦°à¦•à¦¾à¦°
- Self-healing à¦šà¦¾à¦‡
- Load balancing à¦²à¦¾à¦—à§‡
- Zero-downtime updates

---
**à¦ªà§‚à¦°à§à¦¬à¦¬à¦°à§à¦¤à§€:** [Virtualization](01-virtualization.md)  
**à¦ªà¦°à¦¬à¦°à§à¦¤à§€:** [Cloud Computing](03-cloud-computing.md)
