# File Allocation Methods (à¦«à¦¾à¦‡à¦² à¦¬à¦°à¦¾à¦¦à§à¦¦ à¦ªà¦¦à§à¦§à¦¤à¦¿)

## ğŸ“Œ Disk à¦•à§‡ Block à¦ à¦­à¦¾à¦— à¦•à¦°à¦¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Disk Blocks                            â”‚
â”‚                                                             â”‚
â”‚   Disk divided into fixed-size blocks (e.g., 4KB)          â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ 0  â”‚ 1  â”‚ 2  â”‚ 3  â”‚ 4  â”‚ 5  â”‚ 6  â”‚ 7  â”‚ 8  â”‚ 9  â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â”‚   File allocation = Which blocks contain file data?         â”‚
â”‚                                                             â”‚
â”‚   Three main methods:                                       â”‚
â”‚   1. Contiguous Allocation                                  â”‚
â”‚   2. Linked Allocation                                      â”‚
â”‚   3. Indexed Allocation                                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1ï¸âƒ£ Contiguous Allocation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Contiguous Allocation                      â”‚
â”‚                                                             â”‚
â”‚   Each file occupies CONTIGUOUS blocks on disk              â”‚
â”‚                                                             â”‚
â”‚   Directory Entry:                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚   â”‚ Filename â”‚ Start Block   â”‚   Length   â”‚                â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚   â”‚ file_a   â”‚      0        â”‚     3      â”‚                â”‚
â”‚   â”‚ file_b   â”‚      6        â”‚     2      â”‚                â”‚
â”‚   â”‚ file_c   â”‚     14        â”‚     4      â”‚                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â”‚   Disk:                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”     â”‚
â”‚   â”‚ A  â”‚ A  â”‚ A  â”‚freeâ”‚freeâ”‚freeâ”‚ B  â”‚ B  â”‚freeâ”‚freeâ”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜     â”‚
â”‚     0    1    2    3    4    5    6    7    8    9         â”‚
â”‚                                                             â”‚
â”‚   File A: blocks 0, 1, 2 (start=0, length=3)               â”‚
â”‚   File B: blocks 6, 7 (start=6, length=2)                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### à¦¸à§à¦¬à¦¿à¦§à¦¾ à¦“ à¦…à¦¸à§à¦¬à¦¿à¦§à¦¾

```
âœ“ à¦¸à§à¦¬à¦¿à¦§à¦¾:
â€¢ Simple (only start + length needed)
â€¢ Fast sequential access (all blocks together)
â€¢ Fast direct access: block_i = start + i

âœ— à¦…à¦¸à§à¦¬à¦¿à¦§à¦¾:
â€¢ External fragmentation
â€¢ File size must be known at creation
â€¢ File cannot grow easily

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   External Fragmentation Example:                           â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                â”‚
â”‚   â”‚ A  â”‚freeâ”‚ B  â”‚freeâ”‚ C  â”‚freeâ”‚freeâ”‚ D  â”‚                â”‚
â”‚   â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â”‚   Total free = 4 blocks                                     â”‚
â”‚   Need 3 contiguous blocks â†’ Can't fit!                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2ï¸âƒ£ Linked Allocation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Linked Allocation                         â”‚
â”‚                                                             â”‚
â”‚   Each block contains pointer to NEXT block                 â”‚
â”‚                                                             â”‚
â”‚   Directory Entry:                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚   â”‚ Filename â”‚ Start Block   â”‚ End Block  â”‚                â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚   â”‚ file_a   â”‚      9        â”‚     1      â”‚                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â”‚   Disk:                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ Block 9â”‚â†’Block16â”‚â†’Block 1â”‚â†’ Block25â”‚â†’ NULL â”‚          â”‚
â”‚   â”‚  data  â”‚  data  â”‚  data  â”‚  data   â”‚  data â”‚          â”‚
â”‚   â”‚  ptr:16â”‚  ptr:1 â”‚  ptr:25â”‚  ptr:-1 â”‚       â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â”‚   File A: 9 â†’ 16 â†’ 1 â†’ 25 â†’ end                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### à¦¸à§à¦¬à¦¿à¦§à¦¾ à¦“ à¦…à¦¸à§à¦¬à¦¿à¦§à¦¾

```
âœ“ à¦¸à§à¦¬à¦¿à¦§à¦¾:
â€¢ No external fragmentation
â€¢ File can grow easily (just add blocks)
â€¢ No need to know size at creation

âœ— à¦…à¦¸à§à¦¬à¦¿à¦§à¦¾:
â€¢ Slow random access (must traverse list)
â€¢ Pointer space overhead
â€¢ Reliability: one bad pointer = data loss

Space overhead:
Block size = 512 bytes
Pointer size = 4 bytes
Effective space = 508 bytes per block (0.78% overhead)
```

---

## ğŸ“Š FAT (File Allocation Table)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FAT Structure                            â”‚
â”‚                                                             â”‚
â”‚   FAT = Separate table containing all pointers              â”‚
â”‚                                                             â”‚
â”‚   Directory:               FAT:              Disk:          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚file_a  â”‚  9  â”‚       â”‚ 0  â”‚ â”€  â”‚      â”‚ Block 0    â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”˜       â”‚ 1  â”‚ 25 â”‚      â”‚ Block 1    â”‚â—„â”â”‚
â”‚               â”‚          â”‚ 2  â”‚ â”€  â”‚      â”‚ Block 2    â”‚ â”‚â”‚
â”‚               â”‚          â”‚... â”‚... â”‚      â”‚ ...        â”‚ â”‚â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ 9  â”‚ 16 â”‚â”€â”    â”‚ Block 9    â”‚â—„â”˜â”‚
â”‚                          â”‚... â”‚... â”‚ â”‚    â”‚ ...        â”‚  â”‚
â”‚                          â”‚ 16 â”‚  1 â”‚â—„â”˜    â”‚ Block 16   â”‚â—„â”€â”˜
â”‚                          â”‚... â”‚... â”‚      â”‚ ...        â”‚
â”‚                          â”‚ 25 â”‚ -1 â”‚ â†EOF â”‚ Block 25   â”‚
â”‚                          â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                             â”‚
â”‚   FAT kept in memory for fast access                        â”‚
â”‚   Used in: MS-DOS, Windows (FAT16, FAT32)                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3ï¸âƒ£ Indexed Allocation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Indexed Allocation                         â”‚
â”‚                                                             â”‚
â”‚   Each file has an INDEX BLOCK containing all pointers      â”‚
â”‚                                                             â”‚
â”‚   Directory:              Index Block:         Disk:        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚file_a  â”‚ 19  â”‚â”€â”€â”€â”€â”€â”€â–ºâ”‚ 19: Index â”‚      â”‚          â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜       â”‚   [0]: 9  â”‚â”€â”€â”€â”€â”€â–ºâ”‚ Block 9  â”‚  â”‚
â”‚                          â”‚   [1]: 16 â”‚â”€â”€â”€â”€â”€â–ºâ”‚ Block 16 â”‚  â”‚
â”‚                          â”‚   [2]: 1  â”‚â”€â”€â”€â”€â”€â–ºâ”‚ Block 1  â”‚  â”‚
â”‚                          â”‚   [3]: 10 â”‚â”€â”€â”€â”€â”€â–ºâ”‚ Block 10 â”‚  â”‚
â”‚                          â”‚   [4]: 25 â”‚â”€â”€â”€â”€â”€â–ºâ”‚ Block 25 â”‚  â”‚
â”‚                          â”‚   [5]: -1 â”‚      â”‚          â”‚  â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚   Direct access: Index[i] gives block number               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### à¦¸à§à¦¬à¦¿à¦§à¦¾ à¦“ à¦…à¦¸à§à¦¬à¦¿à¦§à¦¾

```
âœ“ à¦¸à§à¦¬à¦¿à¦§à¦¾:
â€¢ No external fragmentation
â€¢ Fast direct access
â€¢ File can grow

âœ— à¦…à¦¸à§à¦¬à¦¿à¦§à¦¾:
â€¢ Index block overhead
â€¢ Small files waste index block
â€¢ Large files: index block too small
```

### Large File Solutions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  1. Linked Index Blocks:                                    â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚     â”‚Index 1  â”‚â”€â”€â”€â”€â–ºâ”‚Index 2  â”‚â”€â”€â”€â”€â–º ...                   â”‚
â”‚     â”‚[pointers]â”‚    â”‚[pointers]â”‚                            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                             â”‚
â”‚  2. Multi-level Index (like page tables):                   â”‚
â”‚                                                             â”‚
â”‚     Outer Index      Inner Index      Data                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚
â”‚     â”‚   â—â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â–ºâ”‚   â—â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â–ºâ”‚Block â”‚              â”‚
â”‚     â”‚   â—â”€â”€â”€â”¼â”€â”€â”    â”‚   â—   â”‚       â””â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                â””â”€â”€â”€â–ºâ”‚   â—   â”‚                              â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                             â”‚
â”‚  3. Combined (UNIX inode):                                  â”‚
â”‚     See below                                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ UNIX inode Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      UNIX inode                             â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚   â”‚         File Metadata             â”‚                    â”‚
â”‚   â”‚  (owner, permissions, size, etc)  â”‚                    â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚   â”‚  Direct Blocks (12 pointers)      â”‚â”€â”€â–º Data blocks    â”‚
â”‚   â”‚  [0][1][2]...[11]                 â”‚    (48KB max)     â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚   â”‚  Single Indirect                  â”‚â”€â”€â–º Index block    â”‚
â”‚   â”‚                                   â”‚    â†’ Data blocks   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    (4MB more)     â”‚
â”‚   â”‚  Double Indirect                  â”‚â”€â”€â–º Index block    â”‚
â”‚   â”‚                                   â”‚    â†’ Index blocks  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â†’ Data (4GB)   â”‚
â”‚   â”‚  Triple Indirect                  â”‚â”€â”€â–º Even more!     â”‚
â”‚   â”‚                                   â”‚    (terabytes)    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                             â”‚
â”‚   Small files: Only direct blocks used (fast!)              â”‚
â”‚   Large files: Indirect blocks used                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Method Comparison

| Method | Sequential | Random | Grow | Fragmentation |
|--------|------------|--------|------|---------------|
| Contiguous | â˜…â˜…â˜… | â˜…â˜…â˜… | âœ— | External |
| Linked | â˜…â˜… | âœ— | â˜…â˜…â˜… | None |
| FAT | â˜…â˜… | â˜…â˜… | â˜…â˜…â˜… | None |
| Indexed | â˜…â˜… | â˜…â˜…â˜… | â˜…â˜… | None |
| UNIX inode | â˜…â˜… | â˜…â˜…â˜… | â˜…â˜…â˜… | None |

---

## â“ à¦—à§à¦°à§à¦¤à§à¦¬à¦ªà§‚à¦°à§à¦£ à¦ªà§à¦°à¦¶à§à¦¨

**à¦ªà§à¦°à¦¶à§à¦¨ à§§:** Contiguous allocation à¦ external fragmentation à¦•à§‡à¦¨ à¦¹à¦¯à¦¼?
**à¦‰à¦¤à§à¦¤à¦°:** Files delete à¦¹à¦²à§‡ scattered holes à¦¤à§ˆà¦°à¦¿ à¦¹à¦¯à¦¼à¥¤ à¦¨à¦¤à§à¦¨ file à¦à¦° à¦œà¦¨à§à¦¯ contiguous space à¦¨à¦¾à¦“ à¦ªà¦¾à¦“à¦¯à¦¼à¦¾ à¦¯à§‡à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¥¤

**à¦ªà§à¦°à¦¶à§à¦¨ à§¨:** Linked allocation à¦ random access slow à¦•à§‡à¦¨?
**à¦‰à¦¤à§à¦¤à¦°:** Block i access à¦•à¦°à¦¤à§‡ à¦¹à¦²à§‡ block 0 à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§ à¦•à¦°à§‡ i-1 à¦Ÿà¦¾ block traverse à¦•à¦°à¦¤à§‡ à¦¹à¦¯à¦¼à¥¤

**à¦ªà§à¦°à¦¶à§à¦¨ à§©:** UNIX inode à¦ small files efficient à¦•à§‡à¦¨?
**à¦‰à¦¤à§à¦¤à¦°:** 12à¦Ÿà¦¿ direct pointers à¦¥à¦¾à¦•à§‡à¥¤ Small files à¦¶à§à¦§à§ direct pointers à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à§‡, indirect blocks à¦²à¦¾à¦—à§‡ à¦¨à¦¾à¥¤

---
**à¦ªà§‚à¦°à§à¦¬à¦¬à¦°à§à¦¤à§€:** [Directory Structure](02-directory-structure.md)  
**à¦ªà¦°à¦¬à¦°à§à¦¤à§€:** [Free Space Management](04-free-space.md)
