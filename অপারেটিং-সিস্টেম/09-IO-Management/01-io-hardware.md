# I/O Hardware

## ğŸ“Œ I/O Device Types

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    I/O Device Categories                    â”‚
â”‚                                                             â”‚
â”‚  1. Block Devices:                                          â”‚
â”‚     â€¢ Fixed-size blocks à¦ data transfer                    â”‚
â”‚     â€¢ Random access possible                                â”‚
â”‚     â€¢ Examples: Hard disk, SSD, USB drive                   â”‚
â”‚                                                             â”‚
â”‚  2. Character Devices:                                      â”‚
â”‚     â€¢ Character stream à¦¹à¦¿à¦¸à§‡à¦¬à§‡ data transfer                â”‚
â”‚     â€¢ Sequential access                                     â”‚
â”‚     â€¢ Examples: Keyboard, mouse, printer, serial port       â”‚
â”‚                                                             â”‚
â”‚  3. Network Devices:                                        â”‚
â”‚     â€¢ Data packets send/receive                             â”‚
â”‚     â€¢ Special interface needed                              â”‚
â”‚     â€¢ Examples: NIC, WiFi adapter                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Device Controller

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   CPU â†â”€â”€â”€â”€â”€â”€â”€â”€ System Bus â”€â”€â”€â”€â”€â”€â”€â”€â†’ Memory                â”‚
â”‚                      â”‚                                      â”‚
â”‚                      â”‚                                      â”‚
â”‚                      â–¼                                      â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚          â”‚  Device Controller  â”‚                           â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                           â”‚
â”‚          â”‚  â”‚ Control Reg   â”‚  â”‚  Control register         â”‚
â”‚          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                           â”‚
â”‚          â”‚  â”‚ Status Reg    â”‚  â”‚  Status register          â”‚
â”‚          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                           â”‚
â”‚          â”‚  â”‚ Data Reg      â”‚  â”‚  Data register            â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                           â”‚
â”‚          â”‚         â”‚           â”‚                           â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                    â”‚                                        â”‚
â”‚                    â–¼                                        â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚              â”‚  Device   â”‚                                 â”‚
â”‚              â”‚  (Disk)   â”‚                                 â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                             â”‚
â”‚   Controller = Hardware interface between CPU and device    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Device Addressing

### à§§. Port-Mapped I/O

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Port-Mapped I/O                           â”‚
â”‚                                                             â”‚
â”‚   Separate address space for I/O                            â”‚
â”‚                                                             â”‚
â”‚   Memory Space:          I/O Space:                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   â”‚ 0x00000000    â”‚     â”‚ Port 0x60     â”‚ â† Keyboard       â”‚
â”‚   â”‚     ...       â”‚     â”‚ Port 0x3F8    â”‚ â† COM1           â”‚
â”‚   â”‚ 0xFFFFFFFF    â”‚     â”‚ Port 0x1F0    â”‚ â† IDE disk       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                             â”‚
â”‚   Special instructions:                                     â”‚
â”‚   IN  AL, 0x60    ; Read from port 0x60                    â”‚
â”‚   OUT 0x60, AL    ; Write to port 0x60                     â”‚
â”‚                                                             â”‚
â”‚   Used by: x86 architecture                                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### à§¨. Memory-Mapped I/O

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Memory-Mapped I/O                           â”‚
â”‚                                                             â”‚
â”‚   Device registers mapped to memory addresses               â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   â”‚        Memory Address Space         â”‚                  â”‚
â”‚   â”‚                                     â”‚                  â”‚
â”‚   â”‚  0x00000000  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                  â”‚
â”‚   â”‚              â”‚                   â”‚ â”‚                  â”‚
â”‚   â”‚              â”‚   RAM             â”‚ â”‚                  â”‚
â”‚   â”‚              â”‚                   â”‚ â”‚                  â”‚
â”‚   â”‚  0x80000000  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                  â”‚
â”‚   â”‚              â”‚  Device Registers â”‚ â”‚ â† I/O mapped    â”‚
â”‚   â”‚  0x80001000  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                  â”‚
â”‚   â”‚              â”‚  Video Memory     â”‚ â”‚                  â”‚
â”‚   â”‚  0xFFFFFFFF  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                             â”‚
â”‚   Regular memory instructions work:                         â”‚
â”‚   MOV EAX, [0x80000000]  ; Read device register            â”‚
â”‚   MOV [0x80000000], EAX  ; Write device register           â”‚
â”‚                                                             â”‚
â”‚   à¦¸à§à¦¬à¦¿à¦§à¦¾: No special instructions needed                   â”‚
â”‚   Used by: ARM, modern systems                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š I/O Methods Comparison

| Method | CPU Involvement | Speed | Use Case |
|--------|-----------------|-------|----------|
| Programmed I/O | Very High | Slow | Simple devices |
| Interrupt I/O | Medium | Medium | Keyboards, mice |
| DMA | Low | Fast | Disk, network |

---

## ğŸ”§ Device Driver

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   Application                                               â”‚
â”‚        â”‚                                                    â”‚
â”‚        â–¼                                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                    Kernel                           â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚           Device-Independent Layer          â”‚   â”‚  â”‚
â”‚   â”‚  â”‚   Uniform interface, buffering, caching     â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â”‚                      â”‚                              â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚   â”‚  â”‚          â”‚                 â”‚          â”‚        â”‚  â”‚
â”‚   â”‚  â–¼          â–¼                 â–¼          â–¼        â”‚  â”‚
â”‚   â”‚ Disk      Keyboard         Network    Printer    â”‚  â”‚
â”‚   â”‚ Driver    Driver           Driver     Driver     â”‚  â”‚
â”‚   â”‚  â”‚          â”‚                 â”‚          â”‚        â”‚  â”‚
â”‚   â””â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      â”‚          â”‚                 â”‚          â”‚           â”‚
â”‚      â–¼          â–¼                 â–¼          â–¼           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ Disk â”‚  â”‚ KB   â”‚         â”‚ NIC  â”‚  â”‚Printerâ”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â”‚   Device Driver:                                            â”‚
â”‚   â€¢ Device-specific code                                    â”‚
â”‚   â€¢ Translates generic commands to device commands          â”‚
â”‚   â€¢ Runs in kernel mode                                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â“ à¦—à§à¦°à§à¦¤à§à¦¬à¦ªà§‚à¦°à§à¦£ à¦ªà§à¦°à¦¶à§à¦¨

**à¦ªà§à¦°à¦¶à§à¦¨ à§§:** Block device à¦“ Character device à¦à¦° à¦ªà¦¾à¦°à§à¦¥à¦•à§à¦¯ à¦•à¦¿?

| Block Device | Character Device |
|--------------|------------------|
| Fixed-size blocks | Character stream |
| Random access | Sequential access |
| Disk, SSD | Keyboard, mouse |

**à¦ªà§à¦°à¦¶à§à¦¨ à§¨:** Memory-mapped I/O à¦à¦° à¦¸à§à¦¬à¦¿à¦§à¦¾ à¦•à¦¿?
**à¦‰à¦¤à§à¦¤à¦°:**
- Special I/O instructions à¦²à¦¾à¦—à§‡ à¦¨à¦¾
- Normal memory instructions à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦¾ à¦¯à¦¾à¦¯à¦¼
- Caching à¦•à¦°à¦¾ à¦¯à¦¾à¦¯à¦¼ (with caution)
- Higher-level languages à¦¥à§‡à¦•à§‡ à¦¸à¦°à¦¾à¦¸à¦°à¦¿ access

---
**à¦ªà¦°à¦¬à¦°à§à¦¤à§€:** [I/O Methods](02-io-methods.md)
