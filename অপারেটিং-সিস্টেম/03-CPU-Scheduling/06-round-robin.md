# Round Robin (RR) рж╢рж┐ржбрж┐ржЙрж▓рж┐ржВ

## ЁЯУМ рж╕ржВржЬрзНржЮрж╛

**Round Robin** рж╣рж▓рзЛ Preemptive рж╢рж┐ржбрж┐ржЙрж▓рж┐ржВ ржпрзЗржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржоржпрж╝ (Time Quantum) ржПрж░ ржЬржирзНржп CPU ржкрж╛ржпрж╝ред

```
Time Quantum = 4ms

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ                                                          тФВ
тФВ    P1 тФАтФАтФАтФАтЖТ P2 тФАтФАтФАтФАтЖТ P3 тФАтФАтФАтФАтЖТ P1 тФАтФАтФАтФАтЖТ P2 тФАтФАтФАтФАтЖТ ...     тФВ
тФВ    4ms      4ms      4ms      4ms      4ms               тФВ
тФВ                                                          тФВ
тФВ    ржкрзНрж░рждрж┐ржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ 4ms ржкрж░рзЗ Queue ржПрж░ рж╢рзЗрж╖рзЗ ржпрж╛ржпрж╝            тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## ЁЯФз ржорзВрж▓ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп | ржорж╛ржи |
|----------|-----|
| ржЯрж╛ржЗржк | Preemptive |
| ржбрзЗржЯрж╛ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ | Circular Queue (FIFO) |
| Time Quantum | рж╕рж╛ржзрж╛рж░ржгржд 10-100ms |
| Starvation | ржирзЗржЗ |
| Context Switch | ржмрзЗрж╢рж┐ |

---

## ЁЯФД ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ

```
Time Quantum = 4

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ                                                                тФВ
тФВ  Ready Queue: P1(10) тЖТ P2(5) тЖТ P3(3)                          тФВ
тФВ                                                                тФВ
тФВ  Step 1: P1 runs for 4ms                                       тФВ
тФВ          P1 remaining = 6                                      тФВ
тФВ          Queue: P2(5) тЖТ P3(3) тЖТ P1(6)                         тФВ
тФВ                                                                тФВ
тФВ  Step 2: P2 runs for 4ms                                       тФВ
тФВ          P2 remaining = 1                                      тФВ
тФВ          Queue: P3(3) тЖТ P1(6) тЖТ P2(1)                         тФВ
тФВ                                                                тФВ
тФВ  Step 3: P3 runs for 3ms (рж╢рзЗрж╖ рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЛ)                      тФВ
тФВ          Queue: P1(6) тЖТ P2(1)                                 тФВ
тФВ                                                                тФВ
тФВ  Step 4: P1 runs for 4ms                                       тФВ
тФВ          P1 remaining = 2                                      тФВ
тФВ          Queue: P2(1) тЖТ P1(2)                                 тФВ
тФВ                                                                тФВ
тФВ  Step 5: P2 runs for 1ms (рж╢рзЗрж╖)                                тФВ
тФВ          Queue: P1(2)                                         тФВ
тФВ                                                                тФВ
тФВ  Step 6: P1 runs for 2ms (рж╢рзЗрж╖)                                тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## ЁЯТб ржЙржжрж╛рж╣рж░ржг рзз

### рж╕ржорж╕рзНржпрж╛
```
Time Quantum = 4

Process  Arrival Time  Burst Time
P1       0             5
P2       0             3
P3       0             8
```

### рж╕ржорж╛ржзрж╛ржи

```
Gantt Chart:
тФМтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФР
тФВ P1 тФВ P2  тФВ P3 тФВP1 тФВ P3 тФВ P3 тФВ
тФФтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФШ
0    4     7    11  12   16   16

ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд:
t=0-4:   P1 ржЪрж▓рзЗ (4ms), remaining=1
t=4-7:   P2 ржЪрж▓рзЗ (3ms), рж╢рзЗрж╖
t=7-11:  P3 ржЪрж▓рзЗ (4ms), remaining=4
t=11-12: P1 ржЪрж▓рзЗ (1ms), рж╢рзЗрж╖
t=12-16: P3 ржЪрж▓рзЗ (4ms), рж╢рзЗрж╖

Calculation:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФР
тФВ Process тФВ AT тФВ BT тФВ CT тФВ TAT тФВ WT тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФд
тФВ P1      тФВ 0  тФВ 5  тФВ 12 тФВ 12  тФВ 7  тФВ
тФВ P2      тФВ 0  тФВ 3  тФВ 7  тФВ 7   тФВ 4  тФВ
тФВ P3      тФВ 0  тФВ 8  тФВ 16 тФВ 16  тФВ 8  тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФШ

Average WT = (7 + 4 + 8) / 3 = 6.33
Average TAT = (12 + 7 + 16) / 3 = 11.67
```

---

## ЁЯТб ржЙржжрж╛рж╣рж░ржг рзи (Different Arrival Times)

### рж╕ржорж╕рзНржпрж╛
```
Time Quantum = 2

Process  Arrival Time  Burst Time
P1       0             5
P2       1             4
P3       2             2
P4       4             1
```

### рж╕ржорж╛ржзрж╛ржи

```
Timeline:
t=0: P1 ржЖрж╕рзЗ, Queue: [P1(5)]
t=0-2: P1 ржЪрж▓рзЗ (2ms), remaining=3, Queue: [P1(3)]
       (t=1 ржП P2 ржЖрж╕рзЗ Queue ржП: [P1(3), P2(4)])
       (t=2 рждрзЗ P3 ржЖрж╕рзЗ)
       Queue after P1: [P2(4), P3(2), P1(3)]

t=2-4: P2 ржЪрж▓рзЗ (2ms), remaining=2
       (t=4 ржП P4 ржЖрж╕рзЗ)
       Queue: [P3(2), P1(3), P2(2), P4(1)]

t=4-6: P3 ржЪрж▓рзЗ (2ms), рж╢рзЗрж╖
       Queue: [P1(3), P2(2), P4(1)]

t=6-8: P1 ржЪрж▓рзЗ (2ms), remaining=1
       Queue: [P2(2), P4(1), P1(1)]

t=8-10: P2 ржЪрж▓рзЗ (2ms), рж╢рзЗрж╖
        Queue: [P4(1), P1(1)]

t=10-11: P4 ржЪрж▓рзЗ (1ms), рж╢рзЗрж╖
         Queue: [P1(1)]

t=11-12: P1 ржЪрж▓рзЗ (1ms), рж╢рзЗрж╖

Gantt Chart:
тФМтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФР
тФВ P1 тФВ P2 тФВ P3 тФВ P1 тФВ P2 тФВP4 тФВP1 тФВ
тФФтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФШ
0    2    4    6    8   10  11  12

Calculation:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФР
тФВ Process тФВ AT тФВ BT тФВ CT тФВ TAT тФВ WT тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФд
тФВ P1      тФВ 0  тФВ 5  тФВ 12 тФВ 12  тФВ 7  тФВ
тФВ P2      тФВ 1  тФВ 4  тФВ 10 тФВ 9   тФВ 5  тФВ
тФВ P3      тФВ 2  тФВ 2  тФВ 6  тФВ 4   тФВ 2  тФВ
тФВ P4      тФВ 4  тФВ 1  тФВ 11 тФВ 7   тФВ 6  тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФШ

Average WT = (7 + 5 + 2 + 6) / 4 = 5
Average TAT = (12 + 9 + 4 + 7) / 4 = 8
```

---

## тП▒я╕П Time Quantum ржПрж░ ржкрзНрж░ржнрж╛ржм

### ржЦрзБржм ржЫрзЛржЯ Time Quantum
```
TQ = 1ms

тФМтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФР
тФВ1тФВ2тФВ3тФВ1тФВ2тФВ3тФВ1тФВ2тФВ3тФВ1тФВ2тФВ1тФВ2тФВ1тФВ2тФВ1тФВ
тФФтФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФ┤тФАтФШ

рж╕ржорж╕рзНржпрж╛:
тАв ржЕржирзЗржХ Context Switch
тАв ржмрзЗрж╢рж┐ Overhead
тАв ржХржо Throughput
```

### ржЦрзБржм ржмржбрж╝ Time Quantum
```
TQ = 100ms (P1=10, P2=5, P3=3)

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФР
тФВ     P1     тФВ  P2   тФВ P3  тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФШ

рж╕ржорж╕рзНржпрж╛:
тАв FCFS ржПрж░ ржорждрзЛ рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝
тАв Convoy Effect
тАв Response Time ржмрзЗржбрж╝рзЗ ржпрж╛ржпрж╝
```

### ржЖржжрж░рзНрж╢ Time Quantum
```
ржирж┐ржпрж╝ржо:
TQ тЙИ 80% ржкрзНрж░рж╕рзЗрж╕рзЗрж░ CPU burst ржПрж░ ржоржзрзНржпрзЗ

ржпржжрж┐ ржмрзЗрж╢рж┐рж░ржнрж╛ржЧ burst = 10ms рж╣ржпрж╝
рждрж╛рж╣рж▓рзЗ TQ = 8-10ms ржнрж╛рж▓рзЛ

рж╕рж╛ржзрж╛рж░ржг ржорж╛ржи: 10ms - 100ms
```

---

## ЁЯУК TQ ржПрж░ ржкрзНрж░ржнрж╛ржм ржмрж┐рж╢рзНрж▓рзЗрж╖ржг

```
                    тЖС Response Time
                    тФВ
                    тФВ         тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
                    тФВ        /
                    тФВ       /
                    тФВ      /
                    тФВ     /
                    тФВ    /
                    тФВ   /
                    тФВ  /
                    тФВ /
                    тФВ/
                    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЖТ Time Quantum
                    тЖС
            Short TQ                      Long TQ
        (ржмрзЗрж╢рж┐ switching)            (FCFS ржПрж░ ржорждрзЛ)

Trade-off:
тАв ржЫрзЛржЯ TQ = ржнрж╛рж▓рзЛ Response, ржЦрж╛рж░рж╛ржк Throughput
тАв ржмржбрж╝ TQ = ржЦрж╛рж░рж╛ржк Response, ржнрж╛рж▓рзЛ Throughput
```

---

## ЁЯТ╗ ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржо

```python
def round_robin(processes, time_quantum):
    queue = []  # Ready queue
    current_time = 0
    remaining_bt = {p.id: p.burst_time for p in processes}
    completed = []
    
    # ржкрзНрж░ржержорзЗ ржЖрж╕рж╛ ржкрзНрж░рж╕рзЗрж╕ржЧрзБрж▓рзЛ queue рждрзЗ
    for p in processes:
        if p.arrival_time == 0:
            queue.append(p)
    
    while queue or any(remaining_bt[p.id] > 0 for p in processes):
        if not queue:
            current_time += 1
            # ржирждрзБржи ржЖрж╕рж╛ check
            for p in processes:
                if p.arrival_time == current_time and remaining_bt[p.id] > 0:
                    queue.append(p)
            continue
        
        current_process = queue.pop(0)
        
        # Time quantum ржмрж╛ burst time, ржпрзЗржЯрж╛ ржХржо
        exec_time = min(time_quantum, remaining_bt[current_process.id])
        remaining_bt[current_process.id] -= exec_time
        current_time += exec_time
        
        # ржПржЗ рж╕ржоржпрж╝рзЗ ржирждрзБржи ржЖрж╕рж╛ ржкрзНрж░рж╕рзЗрж╕ queue рждрзЗ
        for p in processes:
            if (p.arrival_time > current_time - exec_time 
                and p.arrival_time <= current_time
                and remaining_bt[p.id] > 0 
                and p not in queue
                and p != current_process):
                queue.append(p)
        
        # ржпржжрж┐ рж╢рзЗрж╖ ржирж╛ рж╣ржпрж╝, queue ржПрж░ рж╢рзЗрж╖рзЗ
        if remaining_bt[current_process.id] > 0:
            queue.append(current_process)
        else:
            current_process.completion_time = current_time
            completed.append(current_process)
    
    return completed
```

---

## тЬЕ рж╕рзБржмрж┐ржзрж╛

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  тЬУ Fair - рж╕ржм ржкрзНрж░рж╕рзЗрж╕ рж╕ржорж╛ржи рж╕ржоржпрж╝ ржкрж╛ржпрж╝                  тФВ
тФВ  тЬУ Starvation ржирзЗржЗ                                 тФВ
тФВ  тЬУ ржХржо Response Time (interactive ржП ржнрж╛рж▓рзЛ)          тФВ
тФВ  тЬУ Time Sharing System ржПрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд            тФВ
тФВ  тЬУ ржкрзНрж░рждрж┐ржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржоржпрж╝рзЗ CPU ржкрж╛ржпрж╝         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

## тЭМ ржЕрж╕рзБржмрж┐ржзрж╛

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  тЬЧ ржмрзЗрж╢рж┐ Context Switch overhead                   тФВ
тФВ  тЬЧ Time Quantum ржирж┐рж░рзНржзрж╛рж░ржг ржХржарж┐ржи                     тФВ
тФВ  тЬЧ ржЧржбрж╝ Waiting Time SJF ржерзЗржХрзЗ ржмрзЗрж╢рж┐                 тФВ
тФВ  тЬЧ ржЫрзЛржЯ TQ рждрзЗ Throughput ржХржорзЗ                      тФВ
тФВ  тЬЧ Burst Time ржЬрж╛ржирж╛ ржерж╛ржХрж▓рзЗ optimal ржиржпрж╝              тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## ЁЯУК FCFS vs SJF vs RR рждрзБрж▓ржирж╛

ржПржХржЗ ржкрзНрж░рж╕рзЗрж╕рзЗрж░ ржЬржирзНржп (AT=0):
```
P1=24, P2=3, P3=3

FCFS (P1тЖТP2тЖТP3):
Avg WT = (0 + 24 + 27) / 3 = 17

SJF (P2тЖТP3тЖТP1):
Avg WT = (0 + 3 + 6) / 3 = 3

RR (TQ=4):
Avg WT = (6 + 4 + 7) / 3 = 5.67
```

---

## тЭУ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкрзНрж░рж╢рзНржи

**ржкрзНрж░рж╢рзНржи рзз:** ржЖржжрж░рзНрж╢ Time Quantum ржХржд?
**ржЙрждрзНрждрж░:** 80% CPU burst ржПрж░ рж╕ржорж╛ржиред рж╕рж╛ржзрж╛рж░ржгржд 10-100msред

**ржкрзНрж░рж╢рзНржи рзи:** TQ ржЕржирзЗржХ ржмржбрж╝ рж╣рж▓рзЗ ржХрж┐ рж╣ржпрж╝?
**ржЙрждрзНрждрж░:** FCFS ржПрж░ ржорждрзЛ ржЖржЪрж░ржг ржХрж░рзЗред

**ржкрзНрж░рж╢рзНржи рзй:** TQ ржЕржирзЗржХ ржЫрзЛржЯ рж╣рж▓рзЗ ржХрж┐ рж╣ржпрж╝?
**ржЙрждрзНрждрж░:** Context Switch ржП ржмрзЗрж╢рж┐ рж╕ржоржпрж╝ ржпрж╛ржпрж╝, Throughput ржХржорзЗред

**ржкрзНрж░рж╢рзНржи рзк:** Round Robin ржП Starvation рж╣ржпрж╝?
**ржЙрждрзНрждрж░:** ржирж╛, ржХрж╛рж░ржг ржкрзНрж░рждрж┐ржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ ржирж┐ржпрж╝ржорж┐ржд CPU ржкрж╛ржпрж╝ред

---
**ржкрзВрж░рзНржмржмрж░рзНрждрзА:** [Priority Scheduling](05-priority.md)  
**ржкрж░ржмрж░рзНрждрзА:** [Multilevel Queue](07-multilevel-queue.md)
