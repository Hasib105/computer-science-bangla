# অ্যাডভান্সড রাউটিং প্রোটোকল (Advanced Routing Protocols)

## 📖 Dynamic Routing কেন দরকার?

Static routing ছোট নেটওয়ার্কে ভালো কিন্তু বড় নেটওয়ার্কে:
- শত শত route manually manage করা কঠিন
- Link down হলে automatic failover নেই
- Scalability সমস্যা

### Static vs Dynamic

```
Static Routing:                 Dynamic Routing:
┌─────────────────┐            ┌─────────────────┐
│ Manual config   │            │ Auto learning   │
│ No auto-update  │            │ Auto failover   │
│ Simple          │            │ Scalable        │
│ ছোট network     │            │ বড় network      │
└─────────────────┘            └─────────────────┘
```

---

## 🗺️ Routing Protocol এর শ্রেণীবিভাগ

```
                    Routing Protocols
                          │
          ┌───────────────┼───────────────┐
          ↓               ↓               ↓
        IGP            EGP            Distance vs Link-State
   (Interior)      (Exterior)
          │               │
    ┌─────┴─────┐         │
    ↓           ↓         ↓
Distance    Link-State   BGP
Vector      Protocols
    │           │
  RIP        OSPF
 EIGRP       IS-IS
```

---

## 📏 IGP vs EGP

| বৈশিষ্ট্য | IGP | EGP |
|----------|-----|-----|
| Full Form | Interior Gateway Protocol | Exterior Gateway Protocol |
| Scope | একটি organization এর ভিতরে | Organizations এর মধ্যে |
| Examples | OSPF, EIGRP, RIP | BGP |
| Use Case | Enterprise network | Internet, ISP |

### AS (Autonomous System)

```
┌──────────────────────┐     ┌──────────────────────┐
│    AS 65001          │     │    AS 65002          │
│   (Your Company)     │     │   (ISP)              │
│                      │     │                      │
│  ┌────┐   ┌────┐     │     │    ┌────┐           │
│  │ R1 │───│ R2 │─────┼─BGP─┼────│ R3 │           │
│  └────┘   └────┘     │     │    └────┘           │
│     └──OSPF──┘       │     │                      │
└──────────────────────┘     └──────────────────────┘
      IGP inside              BGP between AS
```

---

## 🔢 Distance Vector vs Link-State

### Distance Vector (RIP, EIGRP)

```
প্রতিবেশীকে বলে: "আমি এই network এ X hop দূরে"

[R1] ──→ "10.0.0.0 is 1 hop away" ──→ [R2]
          R2 adds: "10.0.0.0 is 2 hops (via R1)"
```

| বৈশিষ্ট্য | বিবরণ |
|----------|--------|
| কাজের ধরন | Routing table share করে |
| Metric | সাধারণত hop count |
| Update | Periodic (RIP: 30 sec) |
| সুবিধা | Simple, কম resource |
| অসুবিধা | Slow convergence, limited scalability |

### Link-State (OSPF, IS-IS)

```
সবাইকে বলে: "আমার এই links আছে"
সবাই সম্পূর্ণ map বানায়

[R1] ──→ "My links: R2, R3" ──→ All routers
    সবাই নিজেই shortest path calculate করে
```

| বৈশিষ্ট্য | বিবরণ |
|----------|--------|
| কাজের ধরন | Link info flood করে |
| Metric | Cost (bandwidth based) |
| Update | Event-driven (change হলে) |
| সুবিধা | Fast convergence, scalable |
| অসুবিধা | বেশি resource, complex |

---

## 📡 RIP (Routing Information Protocol)

### বৈশিষ্ট্য

```
┌─────────────────────────────────────┐
│           RIP                        │
├─────────────────────────────────────┤
│ Type:      Distance Vector          │
│ Metric:    Hop Count                │
│ Max Hops:  15 (16 = unreachable)    │
│ Update:    30 seconds               │
│ Version:   RIPv1 (classful),        │
│            RIPv2 (classless)        │
└─────────────────────────────────────┘
```

### সীমাবদ্ধতা

```
Max 15 hops - বড় network এ সমস্যা

[R1]──[R2]──[R3]──...──[R16] = Unreachable!
  1    2     3           16
```

**ব্যবহার:** ছোট network, lab, legacy systems

---

## 🌐 OSPF (Open Shortest Path First)

### বৈশিষ্ট্য

```
┌─────────────────────────────────────┐
│           OSPF                       │
├─────────────────────────────────────┤
│ Type:      Link-State               │
│ Metric:    Cost (100M / bandwidth)  │
│ Standard:  Open (vendor neutral)    │
│ Areas:     Hierarchical design      │
│ Update:    Event-driven             │
└─────────────────────────────────────┘
```

### OSPF Areas

```
                    ┌─────────────────┐
                    │    Area 0       │
                    │   (Backbone)    │
                    │   ┌────┐        │
                    │   │ABR │        │
                    └───┴─┬──┴────────┘
                          │
          ┌───────────────┼───────────────┐
          ↓               ↓               ↓
    ┌──────────┐    ┌──────────┐    ┌──────────┐
    │  Area 1  │    │  Area 2  │    │  Area 3  │
    │          │    │          │    │          │
    └──────────┘    └──────────┘    └──────────┘
```

| Term | মানে |
|------|------|
| Area 0 | Backbone, সব area এর সাথে connected |
| ABR | Area Border Router |
| ASBR | AS Boundary Router (external routes) |

### OSPF Neighbor States

```
Down → Init → 2-Way → Exstart → Exchange → Loading → Full

Full state = Neighbors are synchronized!
```

### OSPF Cost Calculation

```
Cost = Reference Bandwidth / Interface Bandwidth
Default Reference = 100 Mbps

Examples:
- 10 Mbps link:  100/10 = 10
- 100 Mbps link: 100/100 = 1
- 1 Gbps link:   100/1000 = 0.1 → 1 (minimum)
```

---

## ⚡ EIGRP (Enhanced Interior Gateway Routing Protocol)

### বৈশিষ্ট্য

```
┌─────────────────────────────────────┐
│           EIGRP                      │
├─────────────────────────────────────┤
│ Type:      Advanced Distance Vector │
│            (Hybrid)                  │
│ Metric:    Bandwidth + Delay + more │
│ Origin:    Cisco (now open)         │
│ Feature:   Very fast convergence    │
└─────────────────────────────────────┘
```

### EIGRP এর সুবিধা

```
✓ Fast convergence (Feasible Successor backup)
✓ Unequal cost load balancing
✓ Partial updates only
✓ কম bandwidth ব্যবহার
```

### EIGRP Metric (Composite)

```
Metric = f(Bandwidth, Delay, Load, Reliability)

Default: শুধু Bandwidth + Delay
```

---

## 🌍 BGP (Border Gateway Protocol)

### BGP কী?

**BGP** হলো Internet এর routing protocol। ISP গুলো BGP দিয়ে route share করে।

```
┌─────────────────────────────────────┐
│           BGP                        │
├─────────────────────────────────────┤
│ Type:      Path Vector              │
│ Scope:     Inter-AS (Internet)      │
│ Port:      TCP 179                  │
│ Decision:  Policy-based             │
└─────────────────────────────────────┘
```

### eBGP vs iBGP

```
┌──────────── AS 65001 ────────────┐
│                                   │
│  [R1] ────iBGP──── [R2]           │
│    │                 │            │
└────┼─────────────────┼────────────┘
     │ eBGP            │ eBGP
     ↓                 ↓
┌────────────┐   ┌────────────┐
│  AS 65002  │   │  AS 65003  │
└────────────┘   └────────────┘
```

| Type | Use |
|------|-----|
| eBGP | ভিন্ন AS এর মধ্যে |
| iBGP | একই AS এর ভিতরে |

### BGP Path Selection (সংক্ষেপে)

```
1. Highest Weight (Cisco)
2. Highest Local Preference
3. Locally originated
4. Shortest AS Path ← সবচেয়ে common
5. Lowest Origin (IGP < EGP < ?)
6. Lowest MED
7. eBGP over iBGP
8. Lowest Router ID
```

---

## 📊 Protocol তুলনা

| Protocol | Type | Metric | Scale | Use Case |
|----------|------|--------|-------|----------|
| RIP | Distance Vector | Hop count | ছোট | Legacy, Lab |
| OSPF | Link-State | Cost | বড় | Enterprise |
| EIGRP | Hybrid | Composite | বড় | Cisco networks |
| BGP | Path Vector | Policy | Internet | ISP, Enterprise edge |

---

## 🔧 Administrative Distance (AD)

Router একাধিক source থেকে route পেলে কোনটা বেশি বিশ্বাস করবে?

```
Lower AD = More Trusted

| Source          | AD  |
|-----------------|-----|
| Connected       | 0   |
| Static          | 1   |
| EIGRP (summary) | 5   |
| eBGP            | 20  |
| EIGRP           | 90  |
| OSPF            | 110 |
| RIP             | 120 |
| iBGP            | 200 |
```

---

## ✏️ অনুশীলনী

### ১. প্রশ্নের উত্তর দিন
```
a) IGP আর EGP এর পার্থক্য কী?
b) OSPF কে Link-State বলা হয় কেন?
c) BGP Internet এ কেন ব্যবহৃত হয়?
```

### ২. Match করুন
```
RIP      →  ?
OSPF     →  ?
EIGRP    →  ?
BGP      →  ?

Options: Distance Vector, Link-State, Hybrid, Path Vector
```

### ৩. সিচুয়েশন
```
আপনার enterprise network এ 500+ router আছে।
কোন routing protocol ব্যবহার করবেন এবং কেন?
```

---

## 🎓 পরবর্তী পাঠ

এখন আপনি advanced routing বুঝেছেন। পরবর্তী পাঠে আমরা শিখবো:
- [নেটওয়ার্ক সিকিউরিটি](./??-?????????-?????????.md)

---

**🔙 [পূর্ববর্তী: NAT এবং PAT](../02-intermediate/??-?????-?????.md)** | **🔜 [পরবর্তী: নেটওয়ার্ক সিকিউরিটি](./??-?????????-?????????.md)**


