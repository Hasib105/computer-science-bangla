# IPv6 (Internet Protocol version 6)

## 📖 IPv6 কী?

**IPv6** হলো Internet Protocol এর নতুন version যা IPv4 এর address shortage সমস্যা সমাধান করে। IPv6 এ **128-bit address** ব্যবহার হয়।

```
IPv4 (32-bit):                IPv6 (128-bit):
192.168.1.1                   2001:0db8:85a3:0000:0000:8a2e:0370:7334

4.3 billion addresses         340 undecillion addresses!
(প্রায় শেষ)                   (কখনো শেষ হবে না)
```

---

## 🤔 IPv6 কেন দরকার?

### IPv4 Exhaustion

```
IPv4 Address Space:

Total IPv4:  ~4.3 billion addresses
             ████████████████████████████████ 100%
             
Used:        ████████████████████████████████ 100% (2011 সালে শেষ!)
             
World Population: 8 billion people
+ IoT devices: 50+ billion

4.3 billion is NOT ENOUGH!
```

### IPv4 এর সমস্যা

```
┌─────────────────────────────────────────────────────────┐
│              IPv4 Problems                               │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ✗ Address shortage                                     │
│    NAT দিয়ে workaround, কিন্তু complicated              │
│                                                          │
│  ✗ Complex configuration                                │
│    DHCP, NAT, fragmentation                             │
│                                                          │
│  ✗ No built-in security                                 │
│    IPsec optional                                       │
│                                                          │
│  ✗ Inefficient header                                   │
│    Variable length, many fields                         │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

## 📊 IPv4 vs IPv6 তুলনা

| Feature | IPv4 | IPv6 |
|---------|------|------|
| Address size | 32 bits | 128 bits |
| Address format | Decimal (192.168.1.1) | Hexadecimal (2001:db8::1) |
| Total addresses | 4.3 billion | 340 undecillion |
| Header size | 20-60 bytes | 40 bytes (fixed) |
| Fragmentation | Router এ | শুধু source এ |
| IPsec | Optional | Built-in |
| Broadcast | আছে | নেই (Multicast instead) |
| Configuration | Manual/DHCP | Auto (SLAAC) |

---

## 📝 IPv6 Address Format

### Structure

```
IPv6 Address (128 bits = 16 bytes):

Full format:
2001:0db8:85a3:0000:0000:8a2e:0370:7334
│    │    │    │    │    │    │    │
└────┴────┴────┴────┴────┴────┴────┴────→ 8 groups of 4 hex digits
                                           Each group = 16 bits

Simplified:
2001:db8:85a3::8a2e:370:7334
      ↑         ↑
   Leading      :: replaces
   zeros        consecutive
   removed      zero groups
```

### Simplification Rules

```
Rule 1: Leading zeros বাদ দেওয়া যায়
2001:0db8:0000:0000:0000:0000:0000:0001
2001:db8:0:0:0:0:0:1   ← Leading zeros removed

Rule 2: Consecutive zero groups কে :: দিয়ে replace
2001:db8:0:0:0:0:0:1
2001:db8::1   ← :: used once only!

Examples:
┌────────────────────────────────────────────────────────┐
│ Full                              │ Simplified          │
├───────────────────────────────────┼─────────────────────┤
│ 2001:0db8:0000:0000:0000:0000:0000:0001 │ 2001:db8::1  │
│ fe80:0000:0000:0000:0000:0000:0000:0001 │ fe80::1      │
│ 0000:0000:0000:0000:0000:0000:0000:0001 │ ::1 (loopback)│
│ 0000:0000:0000:0000:0000:0000:0000:0000 │ :: (unspec)  │
└────────────────────────────────────────────────────────┘
```

---

## 🏷️ IPv6 Address Types

```
┌─────────────────────────────────────────────────────────┐
│              IPv6 Address Types                          │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  Unicast (এক device):                                   │
│  ├── Global Unicast (2000::/3)                          │
│  │   Public routable, like IPv4 public IP              │
│  │                                                       │
│  ├── Link-Local (fe80::/10)                             │
│  │   Same link only, auto-generated                    │
│  │                                                       │
│  └── Unique Local (fc00::/7)                            │
│      Private, like 192.168.x.x                         │
│                                                          │
│  Multicast (এক group):                                  │
│  └── ff00::/8                                           │
│      একই message অনেকের কাছে                            │
│                                                          │
│  Anycast (nearest one):                                 │
│  └── Same as unicast format                             │
│      Closest server responds                           │
│                                                          │
│  ⛔ NO BROADCAST in IPv6!                               │
│     Multicast replaces it                              │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### Address Type Diagram

```
                    IPv6 Address Types
                           │
          ┌────────────────┼────────────────┐
          ↓                ↓                ↓
       Unicast         Multicast        Anycast
          │                │                │
    ┌─────┼─────┐          │                │
    ↓     ↓     ↓          ↓                ↓
 Global Link  Unique   ff00::/8       Same format
 Unicast Local Local                   as unicast
 2000::/3 fe80::/10 fc00::/7          
```

---

## 🏠 IPv6 Address Prefix

```
IPv6 Address Structure:

2001:0db8:1234:0001:0000:0000:0000:0001/64
│                   │                   │
└───────────────────┴───────────────────┘
    Network Prefix        Interface ID
     (64 bits)            (64 bits)

/64 is the standard prefix for LANs!

Example breakdown:
┌─────────────────────────────────────────────────────────┐
│  Prefix: 2001:db8:1234:1::/64                           │
│                                                          │
│  Hosts in this network:                                 │
│  2001:db8:1234:1::1                                     │
│  2001:db8:1234:1::2                                     │
│  2001:db8:1234:1::ffff                                  │
│  2001:db8:1234:1:abcd:1234:5678:9abc                    │
│                                                          │
│  Total possible hosts: 2^64 = 18 quintillion!           │
└─────────────────────────────────────────────────────────┘
```

---

## ⚙️ IPv6 Header

```
IPv6 Header (40 bytes fixed - simple!):

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
├───────────────────────────────────────────────────────────────┤
│Version│ Traffic Class │           Flow Label                  │
├───────────────────────────────────────────────────────────────┤
│         Payload Length        │  Next Header  │   Hop Limit   │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│                     Source Address (128 bits)                 │
│                                                               │
│                                                               │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│                  Destination Address (128 bits)               │
│                                                               │
│                                                               │
└───────────────────────────────────────────────────────────────┘

Simpler than IPv4 header!
- Fixed 40 bytes (IPv4: 20-60 variable)
- No checksum (upper layers handle)
- No fragmentation fields (handled differently)
```

---

## 🔧 IPv6 Address Configuration

### ১. Manual (Static)

```
Windows:
netsh interface ipv6 add address "Ethernet" 2001:db8::10

Linux:
ip -6 addr add 2001:db8::10/64 dev eth0
```

### ২. SLAAC (Stateless Address Autoconfiguration)

```
Router এর RA (Router Advertisement) থেকে automatic!

Step 1: Host Link-Local তৈরি করে
        fe80::MAC-based

Step 2: Router Solicitation পাঠায়
        Host → All Routers (ff02::2)

Step 3: Router Advertisement পায়
        Router → "Prefix is 2001:db8:1::/64"

Step 4: Host নিজেই address বানায়
        2001:db8:1:: + Interface ID
        = 2001:db8:1::a1b2:c3d4:e5f6:7890

No DHCP server needed! 
```

### ৩. DHCPv6 (Stateful)

```
Like DHCPv4, server assigns address.

Two modes:
- Stateful: Full address from server
- Stateless: Just DNS/other info (SLAAC + DHCPv6)
```

---

## 🔄 IPv4 to IPv6 Transition

### Dual Stack

```
Device runs both IPv4 and IPv6:

┌─────────────────────────────────┐
│           Host                   │
│  ┌───────────┐ ┌───────────┐    │
│  │   IPv4    │ │   IPv6    │    │
│  │192.168.1.5│ │2001:db8::5│    │
│  └───────────┘ └───────────┘    │
│                                  │
│  Talks IPv4 to IPv4 servers     │
│  Talks IPv6 to IPv6 servers     │
└─────────────────────────────────┘
```

### Tunneling

```
IPv6 packet IPv4 এর ভিতর দিয়ে travel করে:

IPv6 Host          IPv4 Network          IPv6 Host
    │                   │                    │
    │   ┌───────────────────────────┐       │
    └──→│ IPv6 in IPv4 tunnel       │───────┘
        │ (6to4, Teredo, ISATAP)    │
        └───────────────────────────┘
```

### NAT64/DNS64

```
IPv6-only client IPv4 server access করে:

┌────────────┐         ┌──────────┐        ┌────────────┐
│ IPv6 Client│ ──────→ │  NAT64   │ ─────→ │IPv4 Server │
│            │  IPv6   │  Gateway │  IPv4  │            │
└────────────┘         └──────────┘        └────────────┘
              Translation happens here!
```

---

## 💻 IPv6 Commands

### Windows

```cmd
# IPv6 address দেখুন
ipconfig /all

# IPv6 ping
ping -6 google.com
ping ::1

# IPv6 route দেখুন
route print -6

# IPv6 neighbor (like ARP)
netsh interface ipv6 show neighbors
```

### Linux

```bash
# IPv6 address দেখুন
ip -6 addr show

# IPv6 ping
ping6 google.com
ping6 ::1

# IPv6 route
ip -6 route show

# Neighbor discovery
ip -6 neigh show
```

---

## 🔐 IPv6 Security

### Built-in IPsec

```
IPv6 তে IPsec built-in (mandatory in original spec):

Authentication Header (AH):
- Packet integrity verify
- Source authentication

Encapsulating Security Payload (ESP):
- Encryption
- Confidentiality
```

### NDP Security Issues

```
Neighbor Discovery Protocol vulnerabilities:

⚠️ RA Spoofing
   Attacker sends fake Router Advertisements
   
⚠️ Neighbor spoofing
   Like ARP spoofing in IPv4

Solution: SEND (Secure Neighbor Discovery)
          RA Guard on switches
```

---

## 📊 Special IPv6 Addresses

```
┌─────────────────────────────────────────────────────────┐
│           Important IPv6 Addresses                       │
├────────────────────────┬────────────────────────────────┤
│ ::1                    │ Loopback (like 127.0.0.1)      │
│ ::                     │ Unspecified (like 0.0.0.0)     │
│ fe80::/10              │ Link-Local (auto-configured)   │
│ fc00::/7 or fd00::/8   │ Unique Local (private)         │
│ 2000::/3               │ Global Unicast (public)        │
│ ff00::/8               │ Multicast                      │
├────────────────────────┼────────────────────────────────┤
│ ff02::1                │ All nodes (link-local)         │
│ ff02::2                │ All routers (link-local)       │
│ ff02::1:ffxx:xxxx      │ Solicited-node multicast       │
└────────────────────────┴────────────────────────────────┘
```

---

## 🌍 IPv6 Adoption

```
Global IPv6 Adoption (2024):

Google IPv6 stats: ~45% of users access via IPv6

Top Countries:
India         ████████████████████████ 70%+
Germany       ████████████████████ 60%+
USA           ███████████████ 50%+
France        ███████████████ 45%+
Japan         ████████████ 40%+
Bangladesh    ████ 15%

Growing every year!
```

---

## ✏️ অনুশীলনী

### ১. Address Simplify করুন
```
এই addresses সংক্ষিপ্ত করুন:

a) 2001:0db8:0000:0000:0000:0000:0000:0001
b) fe80:0000:0000:0000:0001:0000:0000:0001
c) 2001:0db8:abcd:0012:0000:0000:0000:0001
```

### ২. Address Type চিহ্নিত করুন
```
এটি কোন type এর address?

a) ::1
b) fe80::1
c) 2001:db8::1
d) ff02::1
e) fd00::1
```

### ৩. নিজে করুন
```
a) আপনার computer এ IPv6 enable আছে কিনা দেখুন
   (ipconfig /all বা ip addr)
   
b) IPv6 দিয়ে google ping করুন
   (ping -6 google.com)
   
c) কোন website IPv6 support করে কিনা test করুন
   (https://test-ipv6.com)
```

---

## 🎓 মনে রাখুন

```
IPv4: 32 bits  → 4.3 billion addresses (শেষ!)
IPv6: 128 bits → 340 undecillion addresses

Format:
2001:db8:0:0:0:0:0:1 = 2001:db8::1

Key points:
✓ No broadcast, use multicast
✓ SLAAC = automatic configuration
✓ /64 = standard LAN prefix
✓ Link-local = fe80::/10 (always exists)
```

---

**🔙 [পূর্ববর্তী: SDN এবং NFV](./??-??????-??????.md)** | **🔜 [পরবর্তী: নেটওয়ার্ক কমান্ড](../04-practical/??-?????????-??????.md)**


