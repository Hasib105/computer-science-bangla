# নেটওয়ার্ক কমান্ড (Network Commands)

## 📖 ভূমিকা

Network troubleshooting এবং management এর জন্য command line tools অত্যন্ত গুরুত্বপূর্ণ। এই অধ্যায়ে Windows এবং Linux এর essential network commands শিখবো।

---

## 🔍 IP Configuration দেখা

### ipconfig (Windows)

```cmd
# Basic IP information
C:\> ipconfig

Ethernet adapter Ethernet:
   Connection-specific DNS Suffix  . : 
   IPv4 Address. . . . . . . . . . . : 192.168.1.100
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 192.168.1.1

# Detailed information (MAC, DNS, DHCP, etc.)
C:\> ipconfig /all

   Physical Address. . . . . . . . . : 00-1A-2B-3C-4D-5E
   DHCP Enabled. . . . . . . . . . . : Yes
   DHCP Server . . . . . . . . . . . : 192.168.1.1
   DNS Servers . . . . . . . . . . . : 8.8.8.8
                                       8.8.4.4
   Lease Obtained. . . . . . . . . . : Monday, January 15, 2024
   Lease Expires . . . . . . . . . . : Tuesday, January 16, 2024

# DHCP থেকে নতুন IP নিন
C:\> ipconfig /release    # পুরানো IP ছাড়ুন
C:\> ipconfig /renew      # নতুন IP নিন

# DNS cache clear করুন
C:\> ipconfig /flushdns
Successfully flushed the DNS Resolver Cache.

# DNS cache দেখুন
C:\> ipconfig /displaydns
```

### ip / ifconfig (Linux)

```bash
# Modern command (ip)
$ ip addr show
$ ip a            # Short form

eth0: <BROADCAST,MULTICAST,UP,LOWER_UP>
    link/ether 00:1a:2b:3c:4d:5e brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.100/24 brd 192.168.1.255 scope global eth0
    inet6 fe80::21a:2bff:fe3c:4d5e/64 scope link

# Legacy command (ifconfig)
$ ifconfig

# IP assign করুন
$ sudo ip addr add 192.168.1.200/24 dev eth0

# Interface up/down
$ sudo ip link set eth0 up
$ sudo ip link set eth0 down
```

---

## 📡 Connectivity Test (ping)

### Basic Ping

```cmd
# Windows
C:\> ping google.com

Pinging google.com [142.250.193.206] with 32 bytes of data:
Reply from 142.250.193.206: bytes=32 time=15ms TTL=117
Reply from 142.250.193.206: bytes=32 time=14ms TTL=117
Reply from 142.250.193.206: bytes=32 time=15ms TTL=117
Reply from 142.250.193.206: bytes=32 time=14ms TTL=117

Ping statistics for 142.250.193.206:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 14ms, Maximum = 15ms, Average = 14ms
```

```bash
# Linux
$ ping google.com

PING google.com (142.250.193.206) 56(84) bytes of data.
64 bytes from 142.250.193.206: icmp_seq=1 ttl=117 time=15.2 ms
64 bytes from 142.250.193.206: icmp_seq=2 ttl=117 time=14.8 ms
^C
--- google.com ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1002ms
```

### Ping Options

```cmd
# Windows options:
ping -t google.com      # Continuous ping (Ctrl+C to stop)
ping -n 10 google.com   # 10 বার ping করুন
ping -l 1000 google.com # 1000 bytes packet size
ping -4 google.com      # Force IPv4
ping -6 google.com      # Force IPv6

# Linux options:
ping -c 10 google.com   # 10 বার ping
ping -i 2 google.com    # 2 সেকেন্ড interval
ping -s 1000 google.com # Packet size
ping -f google.com      # Flood ping (root only)
```

### Ping Results Analysis

```
┌─────────────────────────────────────────────────────────┐
│                Ping Results এর অর্থ                     │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  Reply from X.X.X.X                                     │
│  → সফল! Host reachable                                  │
│                                                          │
│  Request timed out                                      │
│  → Host respond করছে না বা blocked                      │
│                                                          │
│  Destination host unreachable                           │
│  → Route নেই বা host down                               │
│                                                          │
│  TTL expired in transit                                 │
│  → Routing loop বা অনেক দূরে                            │
│                                                          │
│  Packet loss দেখুন:                                     │
│  0% = Perfect connection                                │
│  1-5% = Minor issues                                    │
│  >10% = Significant problem                             │
│                                                          │
│  Time (latency):                                        │
│  <50ms = Excellent                                      │
│  50-100ms = Good                                        │
│  >200ms = Noticeable delay                              │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

## 🛤️ Path Tracing (tracert / traceroute)

### Windows (tracert)

```cmd
C:\> tracert google.com

Tracing route to google.com [142.250.193.206]
over a maximum of 30 hops:

  1    <1 ms    <1 ms    <1 ms  192.168.1.1
  2     8 ms     7 ms     8 ms  10.0.0.1
  3    15 ms    14 ms    15 ms  isp-router.net [203.0.113.1]
  4    25 ms    24 ms    25 ms  core-router.isp.net
  5    35 ms    34 ms    35 ms  google-peer.net
  6    40 ms    39 ms    40 ms  142.250.193.206

Trace complete.

# Options:
tracert -d google.com    # DNS resolve না করে (faster)
tracert -h 15 google.com # Maximum 15 hops
```

### Linux (traceroute)

```bash
$ traceroute google.com

traceroute to google.com (142.250.193.206), 30 hops max, 60 byte packets
 1  192.168.1.1 (192.168.1.1)  0.5 ms  0.4 ms  0.3 ms
 2  10.0.0.1 (10.0.0.1)  8.2 ms  7.9 ms  8.1 ms
 3  isp-router.net (203.0.113.1)  15.3 ms  14.8 ms  15.1 ms
 ...

# Options:
traceroute -n google.com  # No DNS resolution
traceroute -m 15 google.com  # Max 15 hops
traceroute -I google.com  # Use ICMP (like Windows)
```

### Reading Traceroute

```
Hop  |  Time 1  |  Time 2  |  Time 3  |  Host
-----+----------+----------+----------+------------------
  1       1ms       1ms       1ms      Your Router
  2       8ms       7ms       8ms      ISP First Hop
  3      15ms      14ms      15ms      ISP Core
  4       *         *         *        ← Filtered (no reply)
  5      40ms      39ms      40ms      Destination

* * * = Router ICMP block করে (normal হতে পারে)
High jump = Potential bottleneck
```

---

## 🔎 DNS Lookup (nslookup / dig)

### nslookup (Windows/Linux)

```cmd
# Basic lookup
C:\> nslookup google.com

Server:  resolver.isp.net
Address:  8.8.8.8

Non-authoritative answer:
Name:    google.com
Addresses:  142.250.193.206
          2607:f8b0:4004:800::200e

# Specific DNS server query
C:\> nslookup google.com 8.8.8.8

# Record type specify করুন
C:\> nslookup -type=MX gmail.com    # Mail server
C:\> nslookup -type=NS google.com   # Name servers
C:\> nslookup -type=A google.com    # IPv4 address
C:\> nslookup -type=AAAA google.com # IPv6 address
C:\> nslookup -type=TXT google.com  # Text records

# Reverse lookup (IP to name)
C:\> nslookup 8.8.8.8
Name:    dns.google
```

### dig (Linux - more detailed)

```bash
# Basic query
$ dig google.com

; <<>> DiG 9.16.1 <<>> google.com
;; ANSWER SECTION:
google.com.       300   IN   A   142.250.193.206

;; Query time: 15 msec
;; SERVER: 8.8.8.8#53(8.8.8.8)

# Specific record types
$ dig google.com MX      # Mail servers
$ dig google.com NS      # Name servers
$ dig google.com ANY     # All records

# Short output
$ dig google.com +short
142.250.193.206

# Trace DNS resolution path
$ dig google.com +trace

# Reverse lookup
$ dig -x 8.8.8.8
```

---

## 📊 Network Statistics (netstat / ss)

### netstat (Windows/Linux)

```cmd
# All connections and listening ports
C:\> netstat -an

Active Connections

  Proto  Local Address          Foreign Address        State
  TCP    0.0.0.0:80            0.0.0.0:0              LISTENING
  TCP    192.168.1.100:52345   142.250.193.206:443    ESTABLISHED
  TCP    192.168.1.100:52346   13.107.42.14:443       TIME_WAIT
  UDP    0.0.0.0:53            *:*

# With process name (Windows)
C:\> netstat -b

# With process ID
C:\> netstat -ano

# Listening ports only
C:\> netstat -an | findstr LISTENING

# Statistics
C:\> netstat -s

# Routing table
C:\> netstat -r
```

### ss (Linux - modern replacement)

```bash
# All connections
$ ss -a

# TCP only
$ ss -t

# Listening sockets
$ ss -l

# With process info
$ ss -p

# Numeric (no DNS)
$ ss -n

# Combined: listening TCP with process
$ ss -tlnp

# Filter by port
$ ss -an 'sport = :80'
```

---

## 📋 ARP Table

### ARP Commands

```cmd
# Windows - ARP table দেখুন
C:\> arp -a

Interface: 192.168.1.100 --- 0x5
  Internet Address      Physical Address      Type
  192.168.1.1           00-1a-2b-3c-4d-5e     dynamic
  192.168.1.50          aa-bb-cc-dd-ee-ff     dynamic
  224.0.0.22            01-00-5e-00-00-16     static

# ARP cache clear
C:\> arp -d *

# Static entry add
C:\> arp -s 192.168.1.200 00-11-22-33-44-55
```

```bash
# Linux
$ arp -a
$ ip neigh show    # Modern command

# Clear ARP cache
$ sudo ip neigh flush all
```

---

## 🛣️ Routing Table

### route Command

```cmd
# Windows - routing table দেখুন
C:\> route print

===========================================================================
IPv4 Route Table
===========================================================================
Network Destination        Netmask          Gateway       Interface  Metric
          0.0.0.0          0.0.0.0      192.168.1.1   192.168.1.100     25
        127.0.0.0        255.0.0.0         On-link         127.0.0.1    331
      192.168.1.0    255.255.255.0         On-link    192.168.1.100    281

# Route add করুন
C:\> route add 10.0.0.0 mask 255.0.0.0 192.168.1.254

# Route delete
C:\> route delete 10.0.0.0

# Persistent route (reboot এ থাকবে)
C:\> route -p add 10.0.0.0 mask 255.0.0.0 192.168.1.254
```

```bash
# Linux
$ ip route show
$ route -n        # Legacy

default via 192.168.1.1 dev eth0 
192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.100

# Add route
$ sudo ip route add 10.0.0.0/8 via 192.168.1.254

# Delete route
$ sudo ip route del 10.0.0.0/8

# Default gateway change
$ sudo ip route replace default via 192.168.1.254
```

---

## 🔧 Port Testing (telnet / nc)

### Testing if Port is Open

```cmd
# Windows (telnet client enable করতে হবে)
C:\> telnet google.com 443

# Success = blank screen
# Failure = "Could not open connection"

# PowerShell alternative
PS> Test-NetConnection google.com -Port 443

ComputerName     : google.com
RemoteAddress    : 142.250.193.206
RemotePort       : 443
TcpTestSucceeded : True
```

```bash
# Linux - netcat (nc)
$ nc -zv google.com 443
Connection to google.com 443 port [tcp/https] succeeded!

# Multiple ports
$ nc -zv google.com 80 443

# Timeout specify
$ nc -zv -w 5 google.com 443
```

---

## 📈 Bandwidth Test

### Windows

```powershell
# Speed test from command line (PowerShell)
PS> Invoke-WebRequest -Uri "http://speedtest.tele2.net/10MB.zip" -OutFile "test.zip"

# Measure download time
PS> Measure-Command { Invoke-WebRequest -Uri "URL" -OutFile "test.zip" }
```

### Linux

```bash
# Using curl
$ curl -o /dev/null -w "Speed: %{speed_download}\n" http://speedtest.tele2.net/10MB.zip

# Using wget
$ wget --output-document=/dev/null http://speedtest.tele2.net/10MB.zip

# iperf (requires server)
$ iperf3 -c speedtest.server.com
```

---

## 🔥 Packet Capture Overview

### Windows (Built-in)

```powershell
# Start capture
PS> netsh trace start capture=yes

# Stop and save
PS> netsh trace stop

# Creates .etl file - open with Message Analyzer or Wireshark
```

### Linux (tcpdump)

```bash
# Capture all traffic on interface
$ sudo tcpdump -i eth0

# Capture specific host
$ sudo tcpdump -i eth0 host 192.168.1.100

# Capture specific port
$ sudo tcpdump -i eth0 port 80

# Save to file
$ sudo tcpdump -i eth0 -w capture.pcap

# Read from file
$ sudo tcpdump -r capture.pcap
```

---

## 📋 Quick Reference Card

```
┌─────────────────────────────────────────────────────────┐
│           Common Network Commands                        │
├──────────────┬───────────────┬──────────────────────────┤
│    Task      │   Windows     │      Linux               │
├──────────────┼───────────────┼──────────────────────────┤
│ IP config    │ ipconfig /all │ ip addr / ifconfig       │
│ Ping         │ ping          │ ping                     │
│ Trace route  │ tracert       │ traceroute               │
│ DNS lookup   │ nslookup      │ dig / nslookup           │
│ Connections  │ netstat -an   │ ss -an / netstat -an     │
│ ARP table    │ arp -a        │ arp -a / ip neigh        │
│ Routes       │ route print   │ ip route / route -n      │
│ Port test    │ telnet/Test-NC│ nc -zv                   │
│ DHCP renew   │ ipconfig /renew│ dhclient -r; dhclient   │
│ DNS flush    │ ipconfig /flushdns│ systemd-resolve --flush│
└──────────────┴───────────────┴──────────────────────────┘
```

---

## ✏️ অনুশীলনী

### ১. Basic Commands
```
নিজে try করুন:

a) আপনার IP address, subnet mask, gateway দেখুন
b) google.com ping করুন - latency কত?
c) DNS server এর IP কী?
d) MAC address বের করুন
```

### ২. Troubleshooting Scenario
```
Internet কাজ করছে না। Step by step check করুন:

Step 1: ping 127.0.0.1 (loopback)
Step 2: ping [your IP]
Step 3: ping [gateway]
Step 4: ping 8.8.8.8 (external IP)
Step 5: ping google.com (DNS test)

কোথায় fail করলে কী সমস্যা?
```

### ৩. Advanced
```
a) google.com এ যেতে কয়টা hop লাগে? (tracert)
b) facebook.com এর MX record কী? (nslookup)
c) Port 443 কোন process use করছে? (netstat)
```

---

## 🎓 মনে রাখুন

```
Troubleshooting Order:
1. ipconfig/ip - Is network configured?
2. ping gateway - Local network ok?
3. ping 8.8.8.8 - Internet ok?
4. ping domain - DNS ok?
5. traceroute - Where is the problem?

Commands to memorize:
• ipconfig /all (Windows)
• ip addr show (Linux)
• ping, tracert, nslookup
• netstat -an
```

---

**🔙 [পূর্ববর্তী: IPv6](../03-advanced/??-???????.md)** | **🔜 [পরবর্তী: Packet Tracer](./??-???????-???????.md)**


