# নেটওয়ার্ক Troubleshooting

## 📖 Troubleshooting কী?

**Network Troubleshooting** হলো network সমস্যা identify করা এবং solve করার systematic process।

```
Problem → Identify → Isolate → Fix → Verify → Document
   │         │         │        │       │        │
   └─────────┴─────────┴────────┴───────┴────────┘
              Troubleshooting Cycle
```

---

## 🔬 Troubleshooting Methodology

### OSI Model Based Approach

```
Bottom-Up Approach (Physical থেকে শুরু):

Layer 7: Application    ↑
Layer 6: Presentation   │
Layer 5: Session        │
Layer 4: Transport      │   Check করুন
Layer 3: Network        │   উপরের দিকে
Layer 2: Data Link      │
Layer 1: Physical       ← এখান থেকে শুরু

সুবিধা: Hardware সমস্যা প্রথমে ধরা যায়
অসুবিধা: Application issue হলে সময় লাগে
```

```
Top-Down Approach (Application থেকে শুরু):

Layer 7: Application    ← এখান থেকে শুরু
Layer 6: Presentation   │
Layer 5: Session        │   Check করুন
Layer 4: Transport      │   নিচের দিকে
Layer 3: Network        │
Layer 2: Data Link      │
Layer 1: Physical       ↓

সুবিধা: User experience issue দ্রুত identify
অসুবিধা: Physical সমস্যা miss হতে পারে
```

### Divide and Conquer

```
Middle থেকে শুরু করুন, তারপর উপর/নিচে যান:

           Layer 7
           Layer 6
           Layer 5
           Layer 4
Start → →  Layer 3 (ping test)
           Layer 2
           Layer 1

ping কাজ করলে → উপরে যান (L4-L7)
ping fail → নিচে যান (L1-L2)
```

---

## 🔍 Systematic Troubleshooting Steps

### Step 1: Problem Identify করুন

```
┌─────────────────────────────────────────────────────────┐
│              Information Gathering                       │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  প্রশ্ন করুন:                                            │
│  • কী কাজ করছে না?                                       │
│  • কবে থেকে সমস্যা?                                       │
│  • কী change হয়েছে?                                      │
│  • কতজন affected?                                        │
│  • Error message কী?                                    │
│                                                          │
│  Check করুন:                                            │
│  • এটা কি আগে কাজ করতো?                                 │
│  • অন্যদেরও একই সমস্যা?                                  │
│  • Specific time এ হয়?                                  │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### Step 2: Scope নির্ধারণ করুন

```
Affected Scope:

┌─────────────────────────────────────────────────────────┐
│                                                          │
│   Single User    │    Multiple Users   │   Everyone     │
│        ↓         │          ↓          │       ↓        │
│   User's PC/     │    Switch/VLAN/     │   Router/      │
│   Cable/NIC      │    Local Server     │   Internet/    │
│   issue          │    issue            │   Core issue   │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### Step 3: Possible Causes List করুন

```
Common Causes by Layer:

Layer 1 (Physical):
├── Cable disconnected/damaged
├── Port dead
├── NIC failure
└── Power issue

Layer 2 (Data Link):
├── Switch port disabled
├── VLAN misconfiguration
├── Duplex mismatch
└── STP blocking

Layer 3 (Network):
├── Wrong IP address
├── Subnet mask error
├── Gateway missing/wrong
├── Routing problem
└── Firewall blocking

Layer 4-7 (Transport/Application):
├── Service not running
├── Port blocked
├── Application crash
└── DNS failure
```

---

## 🛠️ Layer-by-Layer Troubleshooting

### Layer 1: Physical Layer

```
Check করুন:

1. Cable Connection
   □ Cable properly plugged in?
   □ Link light on?
   □ Cable damaged?
   
2. Hardware
   □ NIC enabled?
   □ Switch port working?
   □ Power on?

Commands:
Windows: ipconfig /all (check "Media State")
Linux:   ip link show (check UP/DOWN)
         ethtool eth0 (check link status)

Fix করুন:
• Cable replace করুন
• Different port try করুন
• NIC driver reinstall
```

### Layer 2: Data Link Layer

```
Check করুন:

1. NIC/MAC
   □ MAC address valid?
   □ NIC enabled?
   
2. Switch
   □ Port enabled?
   □ Correct VLAN?
   □ STP not blocking?

Commands:
Windows: getmac
         ipconfig /all (Physical Address)
Linux:   ip link show

Switch:  show interface status
         show mac address-table
         show spanning-tree

Fix করুন:
• Port enable করুন (no shutdown)
• VLAN ঠিক করুন
• Duplex settings check করুন
```

### Layer 3: Network Layer

```
Check করুন:

1. IP Configuration
   □ IP address correct?
   □ Subnet mask correct?
   □ Gateway correct?
   □ DHCP working?

Commands:
Windows: ipconfig /all
Linux:   ip addr show

Tests:
ping 127.0.0.1         → Loopback (TCP/IP stack)
ping [own IP]          → Local NIC
ping [gateway]         → Local network
ping [remote IP]       → Routing/Internet
ping [domain.com]      → DNS

2. Routing
   □ Route exists?
   □ Next hop reachable?

Commands:
Windows: route print
         tracert [destination]
Linux:   ip route show
         traceroute [destination]

Fix করুন:
• IP address ঠিক করুন
• Gateway configure করুন
• DHCP renew করুন
• Route add করুন
```

### Layer 4-7: Transport to Application

```
Check করুন:

1. Ports/Services
   □ Service running?
   □ Port open?
   □ Firewall blocking?

Commands:
Windows: netstat -an | findstr [port]
         telnet [host] [port]
Linux:   ss -tlnp
         nc -zv [host] [port]

2. DNS
   □ DNS resolving?
   
Commands:
nslookup [domain]
dig [domain]

3. Application
   □ App working?
   □ Logs check করুন

Fix করুন:
• Service restart করুন
• Firewall rule add করুন
• DNS server change করুন
• Application reinstall
```

---

## 📊 Common Problems & Solutions

### Problem 1: No Internet Access

```
Troubleshooting Flow:

Start
  │
  ▼
Can you ping 127.0.0.1?
  │
  ├── No → TCP/IP stack broken → Reinstall TCP/IP
  │
  ▼ Yes
Can you ping your own IP?
  │
  ├── No → NIC problem → Check NIC, driver
  │
  ▼ Yes
Can you ping gateway?
  │
  ├── No → Local network issue → Check cable, switch, IP config
  │
  ▼ Yes
Can you ping 8.8.8.8?
  │
  ├── No → Routing/ISP issue → Check router, contact ISP
  │
  ▼ Yes
Can you ping google.com?
  │
  ├── No → DNS problem → Change DNS (8.8.8.8)
  │
  ▼ Yes
Problem is application-specific
→ Check browser, firewall, proxy
```

### Problem 2: Slow Network

```
Possible Causes:

Hardware:
├── Cable quality (Cat5 vs Cat6)
├── Old NIC (100Mbps vs 1Gbps)
├── Switch overloaded
└── WiFi interference

Configuration:
├── Duplex mismatch (Half vs Full)
├── QoS not configured
├── Bandwidth hog (downloads)
└── Too many devices

Check Commands:
Windows: 
  Task Manager → Performance → Network
  Resource Monitor → Network
  
Linux:
  iftop
  nethogs
  vnstat

Fix করুন:
• Duplex auto-negotiate set করুন
• Bandwidth limit করুন
• Hardware upgrade করুন
• QoS enable করুন
```

### Problem 3: Intermittent Connectivity

```
On/Off connection সমস্যা - সবচেয়ে কঠিন!

Possible Causes:
├── Bad cable (loose connection)
├── Dying NIC/Port
├── IP conflict
├── STP reconvergence
├── WiFi interference
└── DHCP lease issue

Diagnose করুন:
1. Continuous ping রাখুন
   ping -t [gateway] > ping_log.txt
   
2. Pattern দেখুন
   - নির্দিষ্ট সময়ে হয়?
   - কোন event এর সাথে related?
   
3. Cable swap করে দেখুন

4. IP conflict check
   arp -a (duplicate MAC check)

5. Event logs দেখুন
   Windows: Event Viewer → System
   Linux: /var/log/syslog
```

### Problem 4: Cannot Access Specific Website

```
Troubleshooting:

1. DNS Check
   nslookup website.com
   → Failed? DNS problem
   
2. IP directly try করুন
   ping [website IP]
   → Works? DNS problem
   
3. Traceroute
   tracert website.com
   → কোথায় stop হয়?
   
4. Different browser try করুন
   → Works? Browser cache/extension

5. Proxy/VPN check করুন
   → বন্ধ করে try করুন

6. Firewall check করুন
   → Temporarily disable করে try করুন

7. HOSTS file check করুন
   Windows: C:\Windows\System32\drivers\etc\hosts
   Linux: /etc/hosts
```

---

## 📋 Troubleshooting Tools

### Essential Tools

```
┌─────────────────────────────────────────────────────────┐
│              Troubleshooting Toolkit                     │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  Physical:                                              │
│  • Cable tester                                         │
│  • Multimeter                                           │
│  • Tone generator & probe                               │
│                                                          │
│  Software (Built-in):                                   │
│  • ping, tracert, nslookup                             │
│  • ipconfig/ip, netstat/ss                             │
│  • arp, route                                          │
│                                                          │
│  Software (Install):                                    │
│  • Wireshark (packet capture)                          │
│  • PuTTY (remote access)                               │
│  • Advanced IP Scanner                                 │
│  • Angry IP Scanner                                    │
│                                                          │
│  Online:                                                │
│  • https://mxtoolbox.com                               │
│  • https://www.whatsmydns.net                          │
│  • https://downdetector.com                            │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### Wireshark Basics

```
Packet Capture for Deep Analysis:

1. Interface select করুন
2. Capture start করুন
3. Problem reproduce করুন
4. Capture stop করুন
5. Filter apply করুন

Useful Filters:
ip.addr == 192.168.1.100    # Specific IP
tcp.port == 80               # HTTP
icmp                         # Ping traffic
dns                          # DNS queries
tcp.flags.syn == 1           # TCP SYN packets
http.request                 # HTTP requests
```

---

## 📝 Troubleshooting Documentation

### Ticket Format

```
┌─────────────────────────────────────────────────────────┐
│              Trouble Ticket                              │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  Ticket #: NET-2024-001                                 │
│  Date/Time: 2024-01-15 10:30 AM                        │
│  Reported by: User Name                                 │
│  Contact: x1234                                         │
│                                                          │
│  Problem Description:                                   │
│  Cannot access email server. Error: "Connection        │
│  timed out"                                             │
│                                                          │
│  Troubleshooting Steps:                                 │
│  1. Ping gateway - OK                                   │
│  2. Ping email server - FAILED                         │
│  3. Checked server - Service was stopped               │
│                                                          │
│  Root Cause:                                            │
│  Email service crashed due to disk full               │
│                                                          │
│  Resolution:                                            │
│  1. Cleared old logs                                    │
│  2. Restarted email service                            │
│  3. Added disk monitoring alert                        │
│                                                          │
│  Time to Resolve: 45 minutes                           │
│  Status: RESOLVED                                       │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

## 🧪 Troubleshooting Scenarios

### Scenario 1

```
সমস্যা: User বলছে "Internet কাজ করছে না"

Step 1: Clarify
Q: কোনো website ই কাজ করছে না?
A: হ্যাঁ

Step 2: Scope check
Q: অন্যদের কি একই সমস্যা?
A: না, শুধু আমার

Step 3: Basic checks
- Cable connected? ✓
- Link light? ✓
- IP address? 169.254.x.x ← APIPA!

Root Cause: DHCP not working for this PC

Solution: 
ipconfig /release
ipconfig /renew
If fails: Check DHCP server, restart DHCP client service
```

### Scenario 2

```
সমস্যা: সব user বলছে "Email slow"

Step 1: Scope - সবার সমস্যা (server issue সম্ভাবনা)

Step 2: Server check
- CPU usage: 95%! ← Problem found
- RAM: 80%
- Disk: 40%

Root Cause: Antivirus scan running during work hours

Solution: Reschedule scan to off-hours
```

---

## ✏️ অনুশীলনী

### ১. Layer Identify করুন
```
এই সমস্যাগুলো কোন layer এ?

a) Cable damaged
b) Wrong IP address
c) Website certificate error
d) Duplicate MAC address
e) DNS not resolving
f) Service port blocked
```

### ২. Troubleshooting করুন
```
Symptoms: User can ping 8.8.8.8 but can't open google.com

What layer is the problem?
What's the likely cause?
How would you fix it?
```

### ৩. Flow Chart বানান
```
"Cannot print to network printer" এর জন্য 
একটি troubleshooting flowchart তৈরি করুন।
```

---

## 🎓 মনে রাখুন

```
Troubleshooting Golden Rules:

1. Don't panic!
2. Gather information first
3. Check the obvious first (cable!)
4. One change at a time
5. Test after each change
6. Document everything
7. Know when to escalate

Quick Test Order:
ping 127.0.0.1 → ping [self] → ping [gateway] → ping 8.8.8.8 → ping google.com
```

---

**🔙 [পূর্ববর্তী: Packet Tracer](./??-???????-???????.md)** | **🔜 [পরবর্তী: Network Design](./??-?????????-??????.md)**


