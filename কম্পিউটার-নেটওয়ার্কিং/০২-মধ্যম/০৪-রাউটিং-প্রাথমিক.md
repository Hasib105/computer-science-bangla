# রাউটিং বেসিক (Routing Basics)

## 📖 রাউটিং কী?

**Routing** হলো এক নেটওয়ার্ক থেকে অন্য নেটওয়ার্কে প্যাকেট পাঠানোর জন্য "সঠিক পথ (path)" নির্বাচন করার প্রক্রিয়া।

### সহজ উদাহরণ:
```
আপনি ঢাকা থেকে চট্টগ্রাম যাবেন:
- ট্রেন দিয়ে? (১টি পথ)
- বাস দিয়ে? (আরেকটি পথ)
- প্লেনে? (সবচেয়ে দ্রুত)

Router ও তেমনি সবচেয়ে ভালো পথ বেছে নেয়!
```

---

## 🔄 Switching vs Routing

```
┌──────────────────────────────────────────────────────────────┐
│                        SWITCHING                              │
│  একই LAN এর মধ্যে (Layer 2)                                   │
│  MAC Address দেখে                                              │
│                                                               │
│  [PC1] ←───────────→ [Switch] ←───────────→ [PC2]             │
│  192.168.1.10         (MAC)         192.168.1.20              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│                        ROUTING                                │
│  ভিন্ন নেটওয়ার্কের মধ্যে (Layer 3)                              │
│  IP Address দেখে                                               │
│                                                               │
│  [PC1] ←──→ [Router] ←──→ [PC2]                               │
│  192.168.1.x    ↓     10.0.0.x                                │
│            IP দেখে path select                                 │
└──────────────────────────────────────────────────────────────┘
```

| বৈশিষ্ট্য | Switching | Routing |
|----------|-----------|---------|
| Layer | Layer 2 | Layer 3 |
| Address | MAC | IP |
| Scope | একই LAN | ভিন্ন নেটওয়ার্ক |
| ডিভাইস | Switch | Router |

---

## 🧭 Router কী করে?

```
                    ┌─────────────┐
                    │   ROUTER    │
                    │             │
    Network A ─────→│  eth0  eth1 │←───── Network B
    192.168.1.0/24  │             │     10.0.0.0/24
                    │    eth2     │
                    └──────┬──────┘
                           │
                           ↓
                    Internet/WAN
                    0.0.0.0/0
```

### Router এর প্রধান কাজ

| কাজ | বিবরণ |
|-----|--------|
| **রাউটিং** | সেরা পথ নির্বাচন করে |
| **নেটওয়ার্ক সংযোগ** | বিভিন্ন নেটওয়ার্ক যুক্ত করে |
| **NAT** | Private IP ↔ Public IP |
| **DHCP** | IP address বরাদ্দ করে |
| **Firewall** | বেসিক ফিল্টারিং |
| **Broadcast Block** | Broadcast আলাদা রাখে |

---

## 🗺️ Routing Table (রাউটিং টেবিল)

### Routing Table কী?
Router এর "ম্যাপ" - কোন destination কোন দিক দিয়ে যাবে সেটা জানায়।

```
┌──────────────────────────────────────────────────────────────┐
│                     ROUTING TABLE                             │
├─────────────────┬──────────────┬───────────┬─────────────────┤
│   Destination   │   Gateway    │ Interface │     Metric      │
├─────────────────┼──────────────┼───────────┼─────────────────┤
│ 192.168.1.0/24  │ 0.0.0.0      │ eth0      │ 0 (Direct)      │
│ 10.0.0.0/24     │ 0.0.0.0      │ eth1      │ 0 (Direct)      │
│ 172.16.0.0/16   │ 10.0.0.254   │ eth1      │ 10              │
│ 0.0.0.0/0       │ 203.0.113.1  │ eth2      │ 100 (Default)   │
└─────────────────┴──────────────┴───────────┴─────────────────┘
```

### প্রতিটি কলাম বোঝা

| কলাম | মানে |
|------|------|
| **Destination** | কোথায় যেতে চাই (নেটওয়ার্ক/IP) |
| **Gateway** | পরবর্তী hop (Next router এর IP) |
| **Interface** | কোন পোর্ট দিয়ে বের হবে |
| **Metric** | পথের "খরচ" (কম = ভালো) |

---

## 🚪 Default Gateway

### Default Gateway কী?
যখন destination এর জন্য specific route নেই, তখন এখানে পাঠায়।

```
আপনার PC:
- IP: 192.168.1.10
- Gateway: 192.168.1.1

                    "Google এ যেতে চাই"
[PC] ─────────────────────────────────────→ [Gateway/Router]
192.168.1.10                                  192.168.1.1
       │                                          │
       └── "192.168.1.0/24 এ নেই,                 │
            Gateway এ পাঠাই" ─────────────────────┘
```

### 0.0.0.0/0 মানে কী?
```
0.0.0.0/0 = "সব কিছু" = Default Route

যদি আর কোনো match না হয়, এই route ব্যবহার হবে।
```

---

## 📊 Routing Decision Process

### Router কীভাবে সিদ্ধান্ত নেয়?

```
প্যাকেট আসলো: Destination = 172.16.5.100

Step 1: Routing Table এ খুঁজো
        ↓
Step 2: সবচেয়ে specific match খুঁজো (Longest Prefix Match)
        172.16.5.0/24 > 172.16.0.0/16 > 0.0.0.0/0
        ↓
Step 3: Best match এর gateway এ পাঠাও
        ↓
Step 4: সঠিক interface দিয়ে বের করো
```

### Longest Prefix Match উদাহরণ
```
Destination: 192.168.1.100

Routing Table:
- 192.168.0.0/16  → Match ✓ (কম specific)
- 192.168.1.0/24  → Match ✓ (বেশি specific) ← এটা জিতবে!
- 0.0.0.0/0       → Match ✓ (least specific)
```

---

## 🔀 Static vs Dynamic Routing

### Static Routing (স্থির)

```
ম্যানুয়ালি route যোগ করা হয়

Router(config)# ip route 10.0.0.0 255.0.0.0 192.168.1.254
                         └─ Dest ─┘ └─ Mask ─┘ └─ Gateway ─┘
```

| সুবিধা ✅ | অসুবিধা ❌ |
|----------|----------|
| সহজ configure | Manual update দরকার |
| কম resource | Scalable নয় |
| Predictable | Link fail হলে সমস্যা |
| ছোট নেটওয়ার্কে ভালো | বড় নেটওয়ার্কে অসুবিধা |

### Dynamic Routing (গতিশীল)

```
Router নিজেরা route শিখে/শেয়ার করে

[Router A] ←──── "আমার কাছে 10.0.0.0/24 আছে" ────→ [Router B]
    │                                                   │
    └──────── "আমার কাছে 172.16.0.0/16 আছে" ──────────→│
```

| সুবিধা ✅ | অসুবিধা ❌ |
|----------|----------|
| Auto update | Complex configure |
| Fault tolerant | বেশি resource |
| Scalable | Initial setup কঠিন |
| বড় নেটওয়ার্কে ভালো | Security concern |

---

## 📏 Routing Metrics

### Metric কী?
"পথের খরচ" - Router একাধিক পথ থাকলে কম metric এর পথ বেছে নেয়।

```
[PC] ──────→ [Router A] ──────→ [Destination]
                │
                │ Path 1: Metric = 10 ← ✓ এটা ব্যবহার হবে
                │ Path 2: Metric = 20
                │
```

### বিভিন্ন Protocol এর Metric

| Protocol | Metric কী দেখে |
|----------|----------------|
| RIP | Hop count (কত router পার হয়) |
| OSPF | Cost (bandwidth based) |
| EIGRP | Bandwidth + Delay + আরো |

---

## 🧪 Routing প্র্যাক্টিক্যাল

### Windows এ Routing Table দেখা

```cmd
route print
```

#### Output উদাহরণ:
```
IPv4 Route Table
===========================================================================
Active Routes:
Network Destination        Netmask          Gateway       Interface  Metric
          0.0.0.0          0.0.0.0      192.168.1.1    192.168.1.10     25
      127.0.0.0        255.0.0.0         On-link         127.0.0.1    331
      192.168.1.0    255.255.255.0         On-link     192.168.1.10    281
```

### Path দেখা (Traceroute)

```cmd
tracert google.com
```

#### Output:
```
Tracing route to google.com [142.250.190.78]

  1    <1 ms    <1 ms    <1 ms  192.168.1.1      ← Your router
  2    10 ms    11 ms    10 ms  103.x.x.x        ← ISP router
  3    15 ms    14 ms    15 ms  72.x.x.x         ← Next hop
  ...
  8    35 ms    34 ms    35 ms  142.250.190.78   ← Google!
```

### Ping দিয়ে connectivity check

```cmd
ping 192.168.1.1        ← Gateway
ping 8.8.8.8            ← Internet (Google DNS)
ping google.com         ← DNS + Internet
```

---

## 🔄 Packet Flow Example

### PC1 (192.168.1.10) → PC2 (10.0.0.20)

```
Step 1: PC1 দেখে 10.0.0.20 তার subnet এ নেই
        └── Gateway (192.168.1.1) এ পাঠায়

Step 2: Router receives packet
        └── Routing table check করে
        └── 10.0.0.0/24 → eth1 দিয়ে যাবে

Step 3: Router forwards to 10.0.0.20
        └── PC2 packet receive করে

┌─────────┐         ┌──────────┐         ┌─────────┐
│  PC1    │ ──────→ │  Router  │ ──────→ │  PC2    │
│.1.10    │  eth0   │          │  eth1   │ .0.20   │
└─────────┘         └──────────┘         └─────────┘
  192.168.1.0/24                            10.0.0.0/24
```

---

## ⚠️ সাধারণ সমস্যা ও সমাধান

### সমস্যা ১: "Destination Host Unreachable"
```
কারণ: Gateway এ পৌঁছাতে পারছে না
সমাধান:
- Cable check
- Gateway IP সঠিক?
- Gateway up আছে?
```

### সমস্যা ২: "Request Timed Out"
```
কারণ: Packet গেছে কিন্তু reply আসেনি
সমাধান:
- Remote firewall?
- Return route আছে?
- Tracert দিয়ে কোথায় আটকাচ্ছে দেখুন
```

### সমস্যা ৩: Internet নেই কিন্তু Gateway ping হয়
```
কারণ: Default route সমস্যা
সমাধান:
- route print দিয়ে 0.0.0.0 route দেখুন
- DNS check করুন
```

---

## 📊 Quick Reference

### Windows Commands

| Command | কাজ |
|---------|-----|
| `route print` | Routing table দেখা |
| `tracert <ip>` | Path trace করা |
| `ping <ip>` | Connectivity check |
| `pathping <ip>` | Detailed path analysis |

### Route Add (Windows)

```cmd
route add 10.0.0.0 mask 255.0.0.0 192.168.1.254
```

---

## ✏️ অনুশীলনী

### ১. প্রশ্নের উত্তর দিন
```
a) Default route কী?
b) Metric কম হলে ভালো না বেশি হলে?
c) Gateway ping হয় কিন্তু internet নেই - কী হতে পারে?
```

### ২. Routing Table Analysis
```
Network Destination    Gateway        Metric
192.168.1.0/24        0.0.0.0        0
10.0.0.0/8            192.168.1.254  10
0.0.0.0/0             192.168.1.1    100

প্রশ্ন: 10.5.5.5 এ যেতে কোন gateway ব্যবহার হবে?
প্রশ্ন: google.com এ যেতে কোন gateway?
```

### ৩. প্র্যাক্টিক্যাল
```cmd
route print
tracert 8.8.8.8
```
এগুলো রান করে output বুঝুন।

---

## 🎓 পরবর্তী পাঠ

এখন আপনি রাউটিং-এর বেসিক জানেন। পরবর্তী পাঠে আমরা শিখবো:
- [সুইচিং কনসেপ্ট](./??-??????.md)

---

**🔙 [পূর্ববর্তী: সাবনেটিং](./??-????????.md)** | **🔜 [পরবর্তী: সুইচিং কনসেপ্ট](./??-??????.md)**


