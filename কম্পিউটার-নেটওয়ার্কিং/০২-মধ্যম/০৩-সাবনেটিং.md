# সাবনেটিং (Subnetting)

## 📖 সাবনেটিং কী?

**Subnetting** হলো একটি বড় IP নেটওয়ার্ককে ছোট ছোট নেটওয়ার্কে (Subnet) ভাগ করার প্রক্রিয়া।

### সহজ উদাহরণ:
```
বড় বিল্ডিং (192.168.1.0/24) কে ভাগ করলেন:
├── ১ম তলা: 192.168.1.0/26   (৬২ জন)
├── ২য় তলা: 192.168.1.64/26  (৬২ জন)
├── ৩য় তলা: 192.168.1.128/26 (৬২ জন)
└── ৪র্থ তলা: 192.168.1.192/26 (৬২ জন)
```

---

## 🎯 সাবনেটিং কেন দরকার?

| কারণ | ব্যাখ্যা |
|------|---------|
| **Broadcast কমানো** | বড় নেটওয়ার্কে broadcast storm হতে পারে |
| **Security** | বিভাগ আলাদা রাখা যায় (HR ≠ Guest) |
| **Management** | ছোট নেটওয়ার্ক manage করা সহজ |
| **IP সাশ্রয়** | প্রয়োজন অনুযায়ী IP বরাদ্দ |

---

## 🧩 মূল ধারণা: Network bits এবং Host bits

### IPv4 = মোট 32 bits

```
IP Address:     192    .   168   .    1    .   10
Binary:      11000000.10101000.00000001.00001010
             └────────────────┘└───────────────┘
               Network bits        Host bits
```

### CIDR Notation
```
/24 মানে:
- প্রথম 24 bit = Network ID
- বাকি 8 bit = Host ID

192.168.1.0/24
└────┬────┘ └┬┘
  Network   CIDR
```

---

## 📊 Subnet Mask বোঝা

### Subnet Mask কী?
Network এবং Host অংশ আলাদা করে।

```
IP:          192.168.1.10
Subnet Mask: 255.255.255.0

Binary:
IP:    11000000.10101000.00000001.00001010
Mask:  11111111.11111111.11111111.00000000
       └──────── Network ───────┘└─ Host ─┘
```

### সাধারণ Subnet Masks

| CIDR | Subnet Mask | Network bits | Host bits | Usable Hosts |
|------|-------------|--------------|-----------|--------------|
| /8 | 255.0.0.0 | 8 | 24 | 16,777,214 |
| /16 | 255.255.0.0 | 16 | 16 | 65,534 |
| /24 | 255.255.255.0 | 24 | 8 | 254 |
| /25 | 255.255.255.128 | 25 | 7 | 126 |
| /26 | 255.255.255.192 | 26 | 6 | 62 |
| /27 | 255.255.255.224 | 27 | 5 | 30 |
| /28 | 255.255.255.240 | 28 | 4 | 14 |
| /29 | 255.255.255.248 | 29 | 3 | 6 |
| /30 | 255.255.255.252 | 30 | 2 | 2 |

---

## 🧮 গুরুত্বপূর্ণ ফর্মুলা

### হোস্ট সংখ্যা বের করা

যদি Host bits = **h** হয়:

```
মোট IP addresses = 2^h
Usable hosts = 2^h - 2
```

### কেন -2?
```
192.168.1.0/24 নেটওয়ার্কে:
├── 192.168.1.0   = Network Address (ব্যবহার করা যায় না)
├── 192.168.1.1   = প্রথম usable host
├── 192.168.1.2   
├── ...
├── 192.168.1.254 = শেষ usable host
└── 192.168.1.255 = Broadcast Address (ব্যবহার করা যায় না)

মোট: 256 - 2 = 254 usable hosts
```

---

## 🎨 Block Size / Increment বোঝা

### Block Size কী?
প্রতিটি subnet এর মধ্যে কতটা IP address থাকবে।

```
Block Size = 256 - Subnet Mask Value (শেষ non-255 octet এ)
```

### উদাহরণ

| CIDR | Mask Value | Block Size |
|------|------------|------------|
| /25 | 128 | 256 - 128 = 128 |
| /26 | 192 | 256 - 192 = 64 |
| /27 | 224 | 256 - 224 = 32 |
| /28 | 240 | 256 - 240 = 16 |
| /29 | 248 | 256 - 248 = 8 |
| /30 | 252 | 256 - 252 = 4 |

---

## 🧪 উদাহরণ ১: 192.168.1.0/26 সাবনেটিং

### Step 1: তথ্য বের করা
```
/26 মানে:
- Subnet Mask: 255.255.255.192
- Host bits: 32 - 26 = 6
- Usable hosts: 2^6 - 2 = 62
- Block Size: 256 - 192 = 64
```

### Step 2: সাবনেট তালিকা

```
┌─────────────────────────────────────────────────────────────┐
│ Subnet 1                                                     │
├─────────────────────────────────────────────────────────────┤
│ Network:   192.168.1.0/26                                    │
│ First IP:  192.168.1.1                                       │
│ Last IP:   192.168.1.62                                      │
│ Broadcast: 192.168.1.63                                      │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ Subnet 2                                                     │
├─────────────────────────────────────────────────────────────┤
│ Network:   192.168.1.64/26                                   │
│ First IP:  192.168.1.65                                      │
│ Last IP:   192.168.1.126                                     │
│ Broadcast: 192.168.1.127                                     │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ Subnet 3                                                     │
├─────────────────────────────────────────────────────────────┤
│ Network:   192.168.1.128/26                                  │
│ First IP:  192.168.1.129                                     │
│ Last IP:   192.168.1.190                                     │
│ Broadcast: 192.168.1.191                                     │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ Subnet 4                                                     │
├─────────────────────────────────────────────────────────────┤
│ Network:   192.168.1.192/26                                  │
│ First IP:  192.168.1.193                                     │
│ Last IP:   192.168.1.254                                     │
│ Broadcast: 192.168.1.255                                     │
└─────────────────────────────────────────────────────────────┘
```

### ভিজুয়াল
```
192.168.1.0 ───────────────────────────────────────→ 192.168.1.255
     │                                                      │
     ├── Subnet 1: .0-.63   (64 addresses, 62 usable)       │
     ├── Subnet 2: .64-.127 (64 addresses, 62 usable)       │
     ├── Subnet 3: .128-.191(64 addresses, 62 usable)       │
     └── Subnet 4: .192-.255(64 addresses, 62 usable)       │
```

---

## 🧪 উদাহরণ ২: 10.0.0.0/16 থেকে /24 সাবনেট

### প্রশ্ন: কত সাবনেট পাওয়া যাবে?

```
মূল নেটওয়ার্ক: 10.0.0.0/16
নতুন CIDR: /24

Borrowed bits = 24 - 16 = 8 bits
সাবনেট সংখ্যা = 2^8 = 256 সাবনেট

প্রতিটি সাবনেটে:
- Host bits = 32 - 24 = 8
- Usable hosts = 2^8 - 2 = 254
```

### সাবনেটগুলো:
```
10.0.0.0/24   (10.0.0.1 - 10.0.0.254)
10.0.1.0/24   (10.0.1.1 - 10.0.1.254)
10.0.2.0/24   (10.0.2.1 - 10.0.2.254)
...
10.0.255.0/24 (10.0.255.1 - 10.0.255.254)
```

---

## 🧪 উদাহরণ ৩: IP দেখে সাবনেট বের করা

### প্রশ্ন: 192.168.5.130/27 এর Network, Broadcast, Range কী?

### Step 1: Block Size বের করুন
```
/27 = 255.255.255.224
Block Size = 256 - 224 = 32
```

### Step 2: সাবনেট খুঁজুন
```
Block Size = 32
Subnets: 0, 32, 64, 96, 128, 160, 192, 224

130 কোন সাবনেটে?
128 ≤ 130 < 160
তাই সাবনেট: 192.168.5.128/27
```

### Step 3: উত্তর
```
Network Address: 192.168.5.128
First Usable:    192.168.5.129
Last Usable:     192.168.5.158
Broadcast:       192.168.5.159
```

---

## ✅ সাবনেটিং করার স্টেপ (Quick Method)

### ১. প্রয়োজনীয় তথ্য বের করুন
```
CIDR → Subnet Mask → Host bits → Block Size
```

### ২. শর্টকাট চার্ট

| CIDR | Mask | Block | Hosts |
|------|------|-------|-------|
| /25 | 128 | 128 | 126 |
| /26 | 192 | 64 | 62 |
| /27 | 224 | 32 | 30 |
| /28 | 240 | 16 | 14 |
| /29 | 248 | 8 | 6 |
| /30 | 252 | 4 | 2 |

### ৩. সাবনেট লিস্ট
```
Start: Network ID = 0 থেকে শুরু
Next: += Block Size
Broadcast = Next subnet - 1
```

---

## 🏢 বাস্তব উদাহরণ: অফিস নেটওয়ার্ক

### সমস্যা:
```
আপনার কাছে: 192.168.10.0/24
বিভাগ:
- HR: 20 জন
- IT: 50 জন  
- Sales: 25 জন
- Guest: 10 জন
```

### সমাধান:

```
বিভাগ      প্রয়োজন   CIDR    Subnet              Usable Range
─────────────────────────────────────────────────────────────
IT         50       /26     192.168.10.0/26     .1 - .62
Sales      25       /27     192.168.10.64/27    .65 - .94
HR         20       /27     192.168.10.96/27    .97 - .126
Guest      10       /28     192.168.10.128/28   .129 - .142
```

### ডায়াগ্রাম
```
192.168.10.0/24
├── IT Dept (/26)
│   192.168.10.0 - 192.168.10.63
│   (62 usable, 50 needed ✓)
│
├── Sales Dept (/27)
│   192.168.10.64 - 192.168.10.95
│   (30 usable, 25 needed ✓)
│
├── HR Dept (/27)
│   192.168.10.96 - 192.168.10.127
│   (30 usable, 20 needed ✓)
│
├── Guest (/28)
│   192.168.10.128 - 192.168.10.143
│   (14 usable, 10 needed ✓)
│
└── Reserved for future
    192.168.10.144 - 192.168.10.255
```

---

## ⚠️ সাধারণ ভুল

| ভুল | সঠিক |
|-----|------|
| Usable hosts = 2^h | Usable hosts = 2^h - **2** |
| Network address ব্যবহার করা | Network address assign করা যায় না |
| Broadcast ব্যবহার করা | Broadcast address assign করা যায় না |
| /31, /32 normal use | শুধু point-to-point link এ |

---

## 🧮 দ্রুত ক্যালকুলেশন টিপস

### Power of 2 মনে রাখুন
```
2^1 = 2      2^5 = 32
2^2 = 4      2^6 = 64
2^3 = 8      2^7 = 128
2^4 = 16     2^8 = 256
```

### CIDR থেকে Hosts
```
/30 = 2 hosts   (2^2 - 2)
/29 = 6 hosts   (2^3 - 2)
/28 = 14 hosts  (2^4 - 2)
/27 = 30 hosts  (2^5 - 2)
/26 = 62 hosts  (2^6 - 2)
/25 = 126 hosts (2^7 - 2)
/24 = 254 hosts (2^8 - 2)
```

---

## ✏️ অনুশীলনী

### ১. Usable hosts বের করুন
```
a) 192.168.1.0/25  → ?
b) 10.0.0.0/28     → ?
c) 172.16.0.0/22   → ?
```

### ২. Block Size বের করুন
```
a) /26 → ?
b) /27 → ?
c) /29 → ?
```

### ৩. Network এবং Broadcast বের করুন
```
IP: 192.168.5.67/26
Network Address: ?
Broadcast Address: ?
Usable Range: ?
```

### ৪. সাবনেট ডিজাইন করুন
```
আপনার কাছে: 10.10.10.0/24
প্রয়োজন:
- Dept A: 100 hosts
- Dept B: 50 hosts
- Dept C: 20 hosts

সাবনেট plan করুন।
```

---

## 🎓 পরবর্তী পাঠ

এখন আপনি সাবনেটিং-এর বেসিক জানেন। পরবর্তী পাঠে আমরা শিখবো:
- [রাউটিং বেসিক](./??-??????-????????.md)

---

**🔙 [পূর্ববর্তী: TCP/IP মডেল](./??-??????-????-????.md)** | **🔜 [পরবর্তী: রাউটিং বেসিক](./??-??????-????????.md)**


